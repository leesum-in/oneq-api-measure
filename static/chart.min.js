/**
 * @fileoverview tui.chart
 * @author NHN Ent. FE Development Team <dl_javascript@nhnent.com>
 * @version 1.5.0
 * @license MIT
 * @link https://github.com/nhnent/tui.chart
 */
!function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return s(i?i:t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../const"),r=t("../helpers/calculator"),o=t("../helpers/renderUtil"),a=t("./axisTemplate"),u=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-axis-area"},_makeXAxisHeight:function(){var t=this.options.title,e=o.getRenderedLabelHeight(t,this.theme.title)+s.TITLE_PADDING,i=o.getRenderedLabelHeight(s.MAX_HEIGHT_WORLD,this.theme.label)+e;return i},_makeYAxisWidth:function(t){var e,i,n=this.options.title||"";return e=o.getRenderedLabelHeight(n,this.theme.title)+s.TITLE_PADDING,i=o.getRenderedLabelsMaxWidth(t,this.theme.label)+e+s.AXIS_LABEL_PADDING},_isValidAxis:function(){var t,e=!0;return"rightYAxis"===this.name&&(t=this.dataProcessor.getGroupValues(),tui.util.forEach(t,function(t){return t.length?void 0:(e=!1,!1)})),e},registerDimension:function(){var t={};this._isValidAxis()&&("xAxis"===this.componentType?(t.height=this._makeXAxisHeight(),this.boundsMaker.registerBaseDimension(this.name,t)):this.isLabel&&(t.width=this._makeYAxisWidth(this.dataProcessor.getCategories()),this.boundsMaker.registerBaseDimension(this.name,t)))},registerAdditionalDimension:function(){var t,e=this.boundsMaker.axesData;this._isValidAxis()&&("yAxis"!==this.componentType||this.isLabel||(t={width:this._makeYAxisWidth(e.yAxis.labels)},this.boundsMaker.registerBaseDimension(this.name,t)))},_renderAxisArea:function(t,e){var i,s=this.theme,r=!!e.isVertical,a=!!e.isPositionRight,u=this.options,l=this.boundsMaker.getDimension(this.name),h=r?l.height:l.width,c=this._renderTitleArea({title:u.title,theme:s.title,isVertical:r,isPositionRight:a,size:h}),d=this._renderLabelArea(e,h,l.width);this.data=e,r&&e.aligned||(i=this._renderTickArea(h)),o.renderDimension(t,l),o.renderPosition(t,this.boundsMaker.getPosition(this.name)),n.addClass(t,r?"vertical":"horizontal"),n.addClass(t,a?"right":""),n.append(t,[c,i,d])},render:function(t){var e=n.create("DIV",this.className);return this._renderAxisArea(e,t),this.axisContainer=e,e},rerender:function(t){this.axisContainer.innerHTML="",this._isValidAxis()&&(t.options&&(this.options=t.options),this._renderAxisArea(this.axisContainer,t))},resize:function(t,e){this.rerender(t,e)},_renderTitleAreaStyle:function(t,e,i){var n=[o.concatStr("width:",e,"px")];i?(o.isIE7()?n.push(o.concatStr("right:","0px")):n.push(o.concatStr("right:",-e,"px")),n.push("top:0px")):(n.push("left:0px"),o.isOldBrowser()||n.push(o.concatStr("top:",e,"px"))),t.style.cssText+=";"+n.join(";")},_renderTitleArea:function(t){var e=o.renderTitle(t.title,t.theme,"tui-chart-title-area");return e&&t.isVertical&&this._renderTitleAreaStyle(e,t.size,t.isPositionRight),e},_renderTickArea:function(t){var e=this.data,i=e.tickCount,u=this.theme.tickColor,l=r.makeTickPixelPositions(t,i),h=n.create("DIV","tui-chart-tick-area"),c=e.isVertical?"bottom":"left",d=e.isPositionRight?"borderLeftColor":"borderRightColor",p=e.isVertical?d:"borderTopColor",m=a.tplAxisTick,f=tui.util.map(l,function(t,i){var n;return e.aligned&&e.labels[i]===s.EMPTY_AXIS_LABEL?"":(n=[o.concatStr("background-color:",u),o.concatStr(c,": ",t,"px")].join(";"),m({cssText:n}))},this).join("");return h.innerHTML=f,h.style[p]=u,h},_makeVerticalLabelCssText:function(t,e){return";width:"+(t-e+s.V_LABEL_RIGHT_PADDING)+"px"},_renderLabelArea:function(t,e,i){var a,u,l=r.makeTickPixelPositions(e,t.tickCount),h=l[1]-l[0],c="left",d=this._makeLabelCssTexts({isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,labelSize:h}),p=n.create("DIV","tui-chart-label-area"),m=o.makeFontCssText(this.theme.label),f=t.labels;return t.isVertical?(c=t.isLabelAxis?"top":"bottom",u=this._getRenderedTitleHeight()+s.TITLE_AREA_WIDTH_PADDING,m+=this._makeVerticalLabelCssText(i,u)):t.isLabelAxis&&this.options.rotation===!1&&(f=this.dataProcessor.getMultilineCategories()),l.length=f.length,a=this._makeLabelsHtml({positions:l,labels:f,posType:c,cssTexts:d,labelSize:h,theme:this.theme.label}),p.innerHTML=a,p.style.cssText=m,this._changeLabelAreaPosition({elLabelArea:p,isVertical:t.isVertical,isLabelAxis:t.isLabelAxis,theme:this.theme.label,labelSize:h,aligned:t.aligned}),p},_getRenderedTitleHeight:function(){var t=this.options.title,e=this.theme.title,i=t?o.getRenderedLabelHeight(t,e):0;return i},_makeLabelCssTexts:function(t){var e=[];return t.isVertical&&t.isLabelAxis?(e.push(o.concatStr("height:",t.labelSize,"px")),e.push(o.concatStr("line-height:",t.labelSize,"px"))):t.isVertical||e.push(o.concatStr("width:",t.labelSize,"px")),e},_calculateRotationMovingPosition:function(t){var e=t.moveLeft;return t.degree===s.ANGLE_85&&(e+=r.calculateAdjacent(s.ANGLE_90-t.degree,t.labelHeight/2)),{top:t.top,left:t.left-e}},_calculateRotationMovingPositionForIE8:function(t){var e=o.getRenderedLabelWidth(t.label,t.theme),i=r.calculateAdjacent(s.ANGLE_90-t.degree,t.labelHeight/2),n=2*(r.calculateAdjacent(t.degree,e/2)+i),a=e-n,u=t.labelWidth/2-2*i;return t.degree===s.ANGLE_85&&(u+=i),{top:s.XAXIS_LABEL_TOP_MARGIN,left:t.left+a-u}},_makeCssTextForRotationMoving:function(t){var e;return e=o.isOldBrowser()?this._calculateRotationMovingPositionForIE8(t):this._calculateRotationMovingPosition(t),o.concatStr("left:",e.left,"px",";top:",e.top,"px")},_makeRotationLabelsHtml:function(t){var e=a.tplAxisLabel,i=o.getRenderedLabelHeight(t.labels[0],t.theme),n=t.cssTexts.length?t.cssTexts.join(";")+";":"",u=" tui-chart-xaxis-rotation tui-chart-xaxis-rotation"+this.boundsMaker.xAxisDegree,l=t.labelSize/2,h=r.calculateAdjacent(this.boundsMaker.xAxisDegree,l),c=r.calculateOpposite(this.boundsMaker.xAxisDegree,l)+s.XAXIS_LABEL_TOP_MARGIN,d=tui.util.map(t.positions,function(s,r){var o=t.labels[r],a=this._makeCssTextForRotationMoving({degree:t.degree,labelHeight:i,labelWidth:t.labelSize,top:c,left:s,moveLeft:h,label:o,theme:t.theme});return e({addClass:u,cssText:n+a,label:o})},this).join("");return d},_makeNormalLabelsHtml:function(t){var e=a.tplAxisLabel,i=t.cssTexts.length?t.cssTexts.join(";")+";":"",n=tui.util.map(t.positions,function(n,s){var r=o.concatStr(t.posType,":",n,"px");return e({addClass:"",cssText:i+r,label:t.labels[s]})},this).join("");return n},_makeLabelsHtml:function(t){var e;return e="xAxis"===this.name&&this.boundsMaker.xAxisDegree?this._makeRotationLabelsHtml(t):this._makeNormalLabelsHtml(t)},_changeLabelAreaPosition:function(t){var e;(!t.isLabelAxis||t.aligned)&&(t.isVertical?(e=o.getRenderedLabelHeight("ABC",t.theme),t.elLabelArea.style.top=o.concatStr(parseInt(e/2,10),"px")):t.elLabelArea.style.left=o.concatStr("-",parseInt(t.labelSize/2,10),"px"))}});e.exports=u},{"../const":19,"../helpers/calculator":35,"../helpers/domHandler":38,"../helpers/renderUtil":42,"./axisTemplate":2}],2:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_AXIS_TICK:'<div class="tui-chart-tick" style="{{ cssText }}"></div>',HTML_AXIS_LABEL:'<div class="tui-chart-label{{ addClass }}" style="{{ cssText }}"><span>{{ label }}</span></div>'};e.exports={tplAxisTick:n.template(s.HTML_AXIS_TICK),tplAxisLabel:n.template(s.HTML_AXIS_LABEL)}},{"../helpers/templateMaker":43}],3:[function(t,e,i){"use strict";var n,s=t("./const"),r=t("./factories/chartFactory"),o=t("./factories/pluginFactory"),a=t("./factories/themeFactory"),u=t("./factories/mapFactory");t("./polyfill"),t("./code-snippet-util"),t("./registerCharts"),t("./registerThemes"),tui.util.defineNamespace("tui.chart"),n=function(t,e,i){var n,o,u;return i=i?JSON.parse(JSON.stringify(i)):{},n=i.theme||s.DEFAULT_THEME_NAME,o=a.get(n),u=r.get(i.chartType,e,o,i),t.appendChild(u.render()),u.animateChart(),u},tui.chart.barChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_BAR,n(t,e,i)},tui.chart.columnChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COLUMN,n(t,e,i)},tui.chart.lineChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_LINE,n(t,e,i)},tui.chart.areaChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_AREA,n(t,e,i)},tui.chart.comboChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_COMBO,n(t,e,i)},tui.chart.pieChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_PIE,n(t,e,i)},tui.chart.mapChart=function(t,e,i){return i=i||{},i.chartType=s.CHART_TYPE_MAP,i.map=u.get(i.map),n(t,e,i)},tui.chart.registerTheme=function(t,e){a.register(t,e)},tui.chart.registerMap=function(t,e){u.register(t,e)},tui.chart.registerPlugin=function(t,e){o.register(t,e)}},{"./code-snippet-util":18,"./const":19,"./factories/chartFactory":29,"./factories/mapFactory":30,"./factories/pluginFactory":31,"./factories/themeFactory":32,"./polyfill":61,"./registerCharts":62,"./registerThemes":63}],4:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),r=t("./axisTypeMixer"),o=t("../series/areaChartSeries"),a=tui.util.defineClass(n,{className:"tui-area-chart",Series:o,init:function(){this._lineTypeInit.apply(this,arguments)}});r.mixin(a),s.mixin(a),e.exports=a},{"../series/areaChartSeries":64,"./axisTypeMixer":5,"./chartBase":8,"./lineTypeMixer":13}],5:[function(t,e,i){"use strict";var n=t("../helpers/renderUtil"),s=t("./chartBase"),r=t("../axes/axis"),o=t("../plots/plot"),a=t("../legends/legend"),u=t("../customEvents/groupTypeCustomEvent"),l=t("../customEvents/pointTypeCustomEvent"),h=t("../tooltips/tooltip"),c=t("../tooltips/groupTooltip"),d={_addAxisComponents:function(t,e){tui.util.forEach(t,function(t){var i={aligned:e,isLabel:!!t.isLabel,chartType:t.chartType};"rightYAxis"===t.name&&(i.componentType="yAxis",i.index=1),this.componentManager.register(t.name,r,i)},this)},_addSeriesComponents:function(t,e){var i={libType:e.libType,chartType:e.chartType,userEvent:this.userEvent,componentType:"series"};tui.util.forEach(t,function(t){var e=tui.util.extend(i,t.data);this.componentManager.register(t.name,t.SeriesClass,e)},this)},_addTooltipComponent:function(){var t=this.hasGroupTooltip?c:h;this.componentManager.register("tooltip",t,this._makeTooltipData())},_addLegendComponent:function(t,e,i){i&&i.hidden||this.componentManager.register("legend",a,{chartTypes:t,chartType:e,userEvent:this.userEvent})},_addComponentsForAxisType:function(t){var e=this.options,i=!!t.aligned;this.componentManager.register("plot",o),this._addAxisComponents(t.axes,i),this._addLegendComponent(t.seriesChartTypes,t.chartType,this.options.legend),this._addSeriesComponents(t.serieses,e),this._addTooltipComponent(e.chartType)},_getLimitMap:function(t,e){var i={},n=t.yAxis?t.yAxis.limit:t.rightYAxis.limit;return i[e[0]]=this.isVertical?n:t.xAxis.limit,e.length>1&&(i[e[1]]=t.rightYAxis?t.rightYAxis.limit:n),i},_makeSeriesDataForRendering:function(t,e){var i=this._getLimitMap(t,e),n=t.xAxis.aligned,s={};return tui.util.forEachArray(e,function(t){s[t+"Series"]={limit:i[t],aligned:n,hasAxes:!0}}),s},_updatePercentValues:function(t){var e=this.chartTypes||[this.chartType],i=this._getLimitMap(t,e),n=this.options.series&&this.options.series.stacked;tui.util.forEachArray(e,function(t){this.dataProcessor.registerPercentValues(i[t],n,t)},this)},_makeRenderingData:function(t){var e=this.chartTypes||[this.chartType],i=this._makeSeriesDataForRendering(t,e,this.isVertical),n=t.yAxis?t.yAxis:t.rightYAxis;return tui.util.extend({plot:{vTickCount:n.validTickCount,hTickCount:t.xAxis.validTickCount},customEvent:{tickCount:this.isVertical?t.xAxis.tickCount:n.tickCount}},i,t)},_addCustomEventComponentForGroupTooltip:function(){this.componentManager.register("customEvent",u,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",l,{chartType:this.chartType,isVertical:this.isVertical})},_addCustomEventComponent:function(){this.hasGroupTooltip?this._addCustomEventComponentForGroupTooltip():this._addCustomEventComponentForNormalTooltip()},_attachCustomEventForGroupTooltip:function(t,e,i){t.on("showGroupTooltip",e.onShow,e),t.on("hideGroupTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowGroupTooltipLine&&(e.on("showGroupTooltipLine",t.onShowGroupTooltipLine,t),e.on("hideGroupTooltipLine",t.onHideGroupTooltipLine,t)),e.on("showGroupAnimation",t.onShowGroupAnimation,t),e.on("hideGroupAnimation",t.onHideGroupAnimation,t)},this)},_attachCustomEventForNormalTooltip:function(t,e,i){t.on("showTooltip",e.onShow,e),t.on("hideTooltip",e.onHide,e),tui.util.forEach(i,function(t){t.onShowAnimation&&(e.on(n.makeCustomEventName("show",t.chartType,"animation"),t.onShowAnimation,t),e.on(n.makeCustomEventName("hide",t.chartType,"animation"),t.onHideAnimation,t))},this)},_attachCustomEventForSeriesSelection:function(t,e){tui.util.forEach(e,function(e){t.on(n.makeCustomEventName("select",e.chartType,"series"),e.onSelectSeries,e),t.on(n.makeCustomEventName("unselect",e.chartType,"series"),e.onUnselectSeries,e)},this)},_attachCustomEvent:function(){var t=this.componentManager.where({componentType:"series"}),e=this.componentManager.get("customEvent"),i=this.componentManager.get("tooltip");s.prototype._attachCustomEvent.call(this,t),this.hasGroupTooltip?this._attachCustomEventForGroupTooltip(e,i,t):this._attachCustomEventForNormalTooltip(e,i,t),this._attachCustomEventForSeriesSelection(e,t)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=d},{"../axes/axis":1,"../customEvents/groupTypeCustomEvent":23,"../customEvents/pointTypeCustomEvent":26,"../helpers/renderUtil":42,"../legends/legend":45,"../plots/plot":50,"../tooltips/groupTooltip":76,"../tooltips/tooltip":80,"./chartBase":8}],6:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),r=t("./axisTypeMixer"),o=t("./barTypeMixer"),a=t("../helpers/axisDataMaker"),u=t("../series/barChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-bar-chart",this.hasRightYAxis=!1,i.series=i.series||{},i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stacked),i.series.stacked=i.series.stacked||s.STACKED_NORMAL_TYPE,this.hasRightYAxis=i.yAxis&&tui.util.isArray(i.yAxis)&&i.yAxis.length>1),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0}),this._addComponents(i.chartType)},_makeAxesData:function(){var t=this.options,e=a.makeValueAxisData({values:this.dataProcessor.getGroupValues(),seriesDimension:{width:this.boundsMaker.makeSeriesWidth()},stackedOption:t.series.stacked||"",divergingOption:t.series.diverging,chartType:t.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),options:t.xAxis}),i=a.makeLabelAxisData({labels:this.dataProcessor.getCategories(),isVertical:!0}),n={xAxis:e,yAxis:i};return this.hasRightYAxis&&(n.rightYAxis=tui.util.extend({isPositionRight:!0},JSON.parse(JSON.stringify(i)))),n},_addComponents:function(t){var e=[{name:"yAxis",isLabel:!0},{name:"xAxis"}];this.hasRightYAxis&&e.push({name:"rightYAxis",isLabe:!0}),this._addComponentsForAxisType({axes:e,chartType:t,serieses:[{name:"barSeries",SeriesClass:u}]})},onChangeCheckedLegends:function(t){var e;this.hasRightYAxis&&(e={optionChartTypes:["bar","bar"]}),n.prototype.onChangeCheckedLegends.call(this,t,null,e)}});r.mixin(l),o.mixin(l),e.exports=l},{"../const":19,"../helpers/axisDataMaker":33,"../series/barChartSeries":65,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":8}],7:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),s={_pickStacks:function(t){var e;return e=tui.util.map(t,function(t){return t.stack}),e=tui.util.filter(e,function(t){return!!t}),e=tui.util.unique(e).slice(0,2)},_makeMinusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:-t})},_makePlusValues:function(t){return tui.util.map(t,function(t){return 0>t?0:t})},_makeNormalDivergingRawSeriesData:function(t){return t.length=Math.min(t.length,2),t[0].data=this._makeMinusValues(t[0].data),t[1]&&(t[1].data=this._makePlusValues(t[1].data)),t},_makeStackedDivergingRawSeriesData:function(t){var e=[],i=this._pickStacks(t),n=i[0],s=i[1];return tui.util.forEachArray(t,function(t){t.stack===n?(t.data=this._makeMinusValues(t.data),e.push(t)):t.stack===s&&(t.data=this._makePlusValues(t.data),e.push(t))},this),e},_makeRawSeriesDataForDiverging:function(t,e){return t=n.isValidStackedOption(e)?this._makeStackedDivergingRawSeriesData(t):this._makeNormalDivergingRawSeriesData(t)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=s},{"../helpers/predicate":41}],8:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../helpers/renderUtil"),r=t("../helpers/dataProcessor"),o=t("../helpers/boundsMaker"),a=t("./componentManager"),u=t("../helpers/userEventListener"),l=tui.util.defineClass({init:function(t){this.rawData=t.rawData,this.theme=t.theme,this.options=t.options,this.chartType=this.options.chartType,this.hasAxes=t.hasAxes,this.isVertical=!!t.isVertical,this.hasGroupTooltip=!!tui.util.pick(this.options,"tooltip","grouped"),this.dataProcessor=this._createDataProcessor(t.DataProcessor||r,t),this.boundsMaker=new o({options:this.options,theme:this.theme,dataProcessor:this.dataProcessor,hasAxes:this.hasAxes,isVertical:this.isVertical,chartType:this.chartType}),this.componentManager=new a({dataProcessor:this.dataProcessor,options:this.options,theme:this.theme,boundsMaker:this.boundsMaker,hasAxes:this.hasAxes}),this.userEvent=new u,this.orgWholeLegendData=this.dataProcessor.getWholeLegendData(),this._addCustomEventComponent()},_createDataProcessor:function(t,e){var i=new t(e.rawData),n=e.options;return i.process(e.rawData,n,e.seriesChartTypes),i},_makeTooltipData:function(){return{isVertical:this.isVertical,userEvent:this.userEvent,chartType:this.chartType}},_addCustomEventComponent:function(){},_makeRenderingData:function(){return{}},_attachCustomEvent:function(t){var e=this.componentManager.get("legend");t=t||this.componentManager.where({componentType:"series"}),e&&(e.on("changeCheckedLegends",this.onChangeCheckedLegends,this),tui.util.forEach(t,function(t){e.on(s.makeCustomEventName("select",t.chartType,"legend"),t.onSelectLegend,t)},this))},_makeAxesData:function(){},_updatePercentValues:function(){},_executeComponentFunc:function(t){this.componentManager.each(function(e){e[t]&&e[t]()})},_render:function(t){var e,i;this._executeComponentFunc("registerDimension"),e=this._makeAxesData(),this.boundsMaker.registerAxesData(e),this._executeComponentFunc("registerAdditionalDimension"),this.boundsMaker.registerBoundsData(),this._updatePercentValues(e),i=this._makeRenderingData(e),t(i),this._sendSeriesData()},render:function(){var t=n.create("DIV",this.className),e=this;return n.addClass(t,"tui-chart"),this._renderTitle(t),s.renderDimension(t,this.boundsMaker.getDimension("chart")),s.renderBackground(t,this.theme.chart.background),s.renderFontFamily(t,this.theme.chart.fontFamily),this._render(function(i){e._renderComponents(i,"render",t)}),this._attachCustomEvent(),this.chartContainer=t,t},_filterRawData:function(t,e){var i=JSON.parse(JSON.stringify(t));return tui.util.isArray(i.series)?i.series=tui.util.filter(i.series,function(t,i){return e[i]}):tui.util.forEach(i.series,function(t,n){e[n]?e[n].length&&(i.series[n]=tui.util.filter(t,function(t,i){return e[n][i]})):i.series[n]=[]}),i},_makeRerenderingData:function(t,e){var i=this._makeTooltipData(),n=this.componentManager.where({componentType:"series"});return t.tooltip=tui.util.extend({checkedLegends:e},i,t.tooltip),tui.util.forEach(n,function(i){t[i.name]=tui.util.extend({checkedLegends:e[i.chartType]||e},t[i.name])}),t},_rerender:function(t,e){var i,n=this;e=e||this._filterRawData(this.dataProcessor.getRawData(),t),this.dataProcessor.process(e,this.options,this.seriesChartTypes),i=this.dataProcessor.getWholeLegendData(),this.dataProcessor.setWholeLegendData(this.orgWholeLegendData),this.boundsMaker.initBoundsData(),this._render(function(e){e=n._makeRerenderingData(e,t),n.dataProcessor.setWholeLegendData(i),n._renderComponents(e,"rerender")})},onChangeCheckedLegends:function(t,e,i){this._rerender(t,e,i)},_renderTitle:function(t){var e=this.options.chart||{},i=s.renderTitle(e.title,this.theme.title,"tui-chart-title");n.append(t,i)},_renderComponents:function(t,e,i){var s=this.componentManager.map(function(i){var n=t[i.name],s=null;return i[e]&&(s=i[e](n)),s});i&&n.append(i,s)},_sendSeriesData:function(){var t,e,i=this.componentManager.get("customEvent");i&&(e=this.chartTypes||[this.chartType],t=tui.util.map(e,function(t){var e=this.componentManager.get(t+"Series")||this.componentManager.get("series");return{chartType:t,data:e.getSeriesData()}},this),i.initCustomEventData(t))},_makeAnimationEventName:function(t,e){return e+t.substring(0,1).toUpperCase()+t.substring(1)+"Animation"},animateChart:function(){this.componentManager.each(function(t){t.animateComponent&&t.animateComponent()})},on:function(t,e){this.userEvent.register(t,e)},_updateDimension:function(t){var e=!1;return t.width&&(this.options.chart.width=t.width,e=!0),t.height&&(this.options.chart.height=t.height,e=!0),e},resize:function(t){var e,i=this;t&&(e=this._updateDimension(t),e&&(this.boundsMaker.initBoundsData(this.options.chart),s.renderDimension(this.chartContainer,this.boundsMaker.getDimension("chart")),this._render(function(t){i._renderComponents(t,"resize")})))},setTooltipAlign:function(t){this.componentManager.get("tooltip").setAlign(t)},setTooltipPosition:function(t){this.componentManager.get("tooltip").setPosition(t)},resetTooltipAlign:function(){this.componentManager.get("tooltip").resetAlign()},resetTooltipPosition:function(){this.componentManager.get("tooltip").resetPosition()},showSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.showLabel()})},hideSeriesLabel:function(){var t=this.componentManager.where({componentType:"series"});tui.util.forEachArray(t,function(t){t.hideLabel()})}});e.exports=l},{"../helpers/boundsMaker":34,"../helpers/dataProcessor":37,"../helpers/domHandler":38,"../helpers/renderUtil":42,"../helpers/userEventListener":44,"./componentManager":11}],9:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),r=t("./axisTypeMixer"),o=t("./barTypeMixer"),a=t("../helpers/axisDataMaker"),u=t("../series/columnChartSeries"),l=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-column-chart",i.series=i.series||{},i.series.diverging&&(t.series=this._makeRawSeriesDataForDiverging(t.series,i.series.stacked),i.series.stacked=i.series.stacked||s.STACKED_NORMAL_TYPE),n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxesData:function(){var t=this.options,e=a.makeLabelAxisData({labels:this.dataProcessor.getCategories(),options:t.xAxis}),i=a.makeValueAxisData({values:this.dataProcessor.getGroupValues(),seriesDimension:{height:this.boundsMaker.makeSeriesHeight()},stackedOption:t.series.stacked||"",divergingOption:t.series.diverging,chartType:t.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),options:t.yAxis,isVertical:!0});return{xAxis:e,yAxis:i}},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:"columnSeries",SeriesClass:u,data:{allowNegativeTooltip:!0}}]})}});r.mixin(l),o.mixin(l),e.exports=l},{"../const":19,"../helpers/axisDataMaker":33,"../series/columnChartSeries":67,"./axisTypeMixer":5,"./barTypeMixer":7,"./chartBase":8}],10:[function(t,e,i){"use strict";var n=t("../helpers/calculator"),s=t("./chartBase"),r=t("./axisTypeMixer"),o=t("../helpers/axisDataMaker"),a=t("../themes/defaultTheme"),u=t("../series/columnChartSeries"),l=t("../series/lineChartSeries"),h=tui.util.defineClass(s,{init:function(t,e,i){var n;this.className="tui-combo-chart",n=this._makeChartTypesMap(t.series,i.yAxis),tui.util.extend(this,n),s.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0,seriesChartTypes:n.seriesChartTypes}),this.yAxisOptionsMap=this._makeYAxisOptionsMap(n.chartTypes,i.yAxis),this._addComponents(n)},_makeYAxisOptionsMap:function(t,e){var i={};return e=e||{},tui.util.forEachArray(t,function(t,n){i[t]=e[n]||e}),i},_makeChartTypesMap:function(t,e){var i,n=tui.util.keys(t).sort(),s=this._getYAxisOptionChartTypes(n,e),r=s.length?s:n,o=tui.util.filter(s,function(e){return t[e].length});return i=1===o.length?{chartTypes:o,seriesChartTypes:o,optionChartTypes:s.length?o:s}:{chartTypes:r,seriesChartTypes:n,optionChartTypes:s}},_makeOptionsMap:function(t){var e={};return tui.util.forEachArray(t,function(t){e[t]=this.options.series[t]||this.options.series},this),e},_makeThemeMap:function(t){var e=this.theme,i={},n=0;return tui.util.forEachArray(t,function(t){var s,r=JSON.parse(JSON.stringify(e));r.series[t]?i[t]=r.series[t]:r.series.colors?(s=r.series.colors.splice(0,n),r.series.colors=r.series.colors.concat(s),i[t]=r.series,n+=this.dataProcessor.getLegendLabels(t).length):(i[t]=JSON.parse(JSON.stringify(a.series)),i[t].label.fontFamily=r.chart.fontFamily)},this),i},_makeSerieses:function(t){var e,i={column:u,line:l},n=this._makeOptionsMap(t),s=this._makeThemeMap(t);return e=tui.util.map(t,function(t){var e={allowNegativeTooltip:!0,componentType:"series",chartType:t,options:n[t],theme:s[t]};return{name:t+"Series",SeriesClass:i[t],data:e}})},_addComponents:function(t){var e=[{name:"yAxis",isLabel:!0,chartType:t.chartTypes[0]},{name:"xAxis"}],i=this._makeSerieses(t.seriesChartTypes);t.optionChartTypes.length&&e.push({name:"rightYAxis",isLabel:!0,chartType:t.chartTypes[1]}),this._addComponentsForAxisType({axes:e,seriesChartTypes:t.seriesChartTypes,chartType:this.options.chartType,serieses:i})},_getYAxisOptionChartTypes:function(t,e){var i,n=t.slice(),s=!1;return e=e?[].concat(e):[],1!==e.length||e[0].chartType?e.length&&(i=tui.util.map(e,function(t){return t.chartType}),tui.util.forEachArray(i,function(t,e){s=s||t&&n[e]!==t||!1}),s&&n.reverse()):n=[],n},_makeYAxisData:function(t){var e,i,n,s=t.index,r=t.chartTypes[s],a=t.options,u=this.yAxisOptionsMap[r];return r?(e=t.isOneYAxis?this.dataProcessor.getWholeGroupValues():this.dataProcessor.getGroupValues(r),i=a.series&&a.series[r]||a.series,n=o.makeValueAxisData(tui.util.extend({values:e,stackedOption:i&&i.stacked||"",options:u,chartType:r,seriesDimension:t.seriesDimension,formatFunctions:this.dataProcessor.getFormatFunctions(),isVertical:!0},t.addParams)),n.options=u,n):{}},_makeAxesData:function(){var t,e,i=this.options,n=this.dataProcessor.getFormatFunctions(),s={seriesDimension:{height:this.boundsMaker.makeSeriesHeight()},chartTypes:this.chartTypes,isOneYAxis:!this.optionChartTypes.length,options:i},r=o.makeLabelAxisData({labels:this.dataProcessor.getCategories()}),a=this._makeYAxisData(tui.util.extend({index:0},s));return t={yAxis:a,xAxis:r},s.isOneYAxis||(e=this._makeYAxisData(tui.util.extend({index:1,addParams:{isPositionRight:!0}},s)),a.tickCount<e.tickCount?this._increaseYAxisTickCount(e.tickCount-a.tickCount,a,n):a.tickCount>e.tickCount&&this._increaseYAxisTickCount(a.tickCount-e.tickCount,e,n),e.aligned=r.aligned,t.rightYAxis=e),t},_increaseYAxisTickCount:function(t,e,i){e.limit.max+=e.step*t,e.labels=o.formatLabels(n.makeLabelsFromLimit(e.limit,e.step),i),e.tickCount+=t,e.validTickCount+=t},onChangeCheckedLegends:function(t){var e=this._filterRawData(this.rawData,t),i=this._makeChartTypesMap(e.series,this.options.yAxis);tui.util.extend(this,i),s.prototype.onChangeCheckedLegends.call(this,t,e,i)}});r.mixin(h),e.exports=h},{"../helpers/axisDataMaker":33,"../helpers/calculator":35,"../series/columnChartSeries":67,"../series/lineChartSeries":68,"../themes/defaultTheme":75,"./axisTypeMixer":5,"./chartBase":8}],11:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.components=[],this.componentMap={},this.theme=t.theme||{},this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.hasAxes=t.hasAxes},register:function(t,e,i){var n,s,r,o,a;i=i||{},a=i.componentType||t,n=i.options||this.options[a],r=i.theme||this.theme[a],s=i.index||0,i.theme=r,i.options=tui.util.isArray(n)?n[s]:n||{},i.dataProcessor=this.dataProcessor,i.boundsMaker=this.boundsMaker,i.hasAxes=this.hasAxes,o=new e(i),o.name=t,o.componentType=a,this.components.push(o),this.componentMap[t]=o},each:function(t){tui.util.forEachArray(this.components,t)},map:function(t){return tui.util.map(this.components,t)},where:function(t){return tui.util.filter(this.components,function(e){var i=!0;return tui.util.forEach(t,function(t,n){return e[n]!==t?(i=!1,!1):void 0}),i})},get:function(t){return this.componentMap[t]}});e.exports=n},{}],12:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("./lineTypeMixer"),r=t("./axisTypeMixer"),o=t("../series/lineChartSeries"),a=tui.util.defineClass(n,{className:"tui-line-chart",Series:o,init:function(){this._lineTypeInit.apply(this,arguments)}});r.mixin(a),s.mixin(a),e.exports=a},{"../series/lineChartSeries":68,"./axisTypeMixer":5,"./chartBase":8,"./lineTypeMixer":13}],13:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../helpers/predicate"),r=t("../helpers/axisDataMaker"),o=t("../customEvents/areaTypeCustomEvent"),a={_lineTypeInit:function(t,e,i){n.call(this,{rawData:t,theme:e,options:i,hasAxes:!0,isVertical:!0}),this._addComponents(i.chartType)},_makeAxesData:function(){var t=this.options,e=s.isLineTypeChart(t.chartType),i=r.makeLabelAxisData({labels:this.dataProcessor.getCategories(),aligned:e,options:t.xAxis}),n=r.makeValueAxisData({values:this.dataProcessor.getGroupValues(),seriesDimension:{height:this.boundsMaker.makeSeriesHeight()},stackedOption:t.series&&t.series.stacked||"",chartType:t.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),options:t.yAxis,isVertical:!0,aligned:e});return{xAxis:i,yAxis:n}},_addCustomEventComponentForNormalTooltip:function(){this.componentManager.register("customEvent",o,{chartType:this.chartType,isVertical:this.isVertical})},_addComponents:function(t){this._addComponentsForAxisType({axes:[{name:"yAxis"},{name:"xAxis",isLabel:!0}],chartType:t,serieses:[{name:this.options.chartType+"Series",SeriesClass:this.Series}]})},render:function(){return n.prototype.render.apply(this,arguments)},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=a},{"../customEvents/areaTypeCustomEvent":20,"../helpers/axisDataMaker":33,"../helpers/predicate":41,"./chartBase":8}],14:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),r=t("./mapChartMapModel"),o=t("./mapChartColorModel"),a=t("../helpers/mapChartDataProcessor"),u=t("../helpers/axisDataMaker"),l=t("../series/mapChartSeries"),h=t("../series/zoom"),c=t("../legends/mapChartLegend"),d=t("../tooltips/mapChartTooltip"),p=t("../customEvents/mapChartCustomEvent"),m=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-map-chart",i.tooltip=i.tooltip||{},i.legend=i.legend||{},n.call(this,{rawData:t,theme:e,options:i,DataProcessor:a}),this._addComponents(i)},_addComponents:function(t){t.legend=t.legend||{},this.componentManager.register("legend",c),this.componentManager.register("tooltip",d,this._makeTooltipData()),this.componentManager.register("mapSeries",l,{libType:t.libType,chartType:t.chartType,componentType:"series",userEvent:this.userEvent}),this.componentManager.register("zoom",h)},_addCustomEventComponent:function(){this.componentManager.register("customEvent",p,{chartType:this.chartType})},_makeAxesData:function(){return u.makeValueAxisData({values:[this.dataProcessor.getValues()],seriesDimension:{height:this.boundsMaker.getDimension("legend").height},chartType:this.options.chartType,formatFunctions:this.dataProcessor.getFormatFunctions(),tickCount:s.MAP_CHART_LEGEND_TICK_COUNT,isVertical:!0})},_updatePercentValues:function(t){this.dataProcessor.registerPercentValues(t.limit);
},_makeRenderingData:function(t){var e=this.theme.series,i=new o(e.startColor,e.endColor),n=new r(this.dataProcessor,this.options.map);return{legend:{colorModel:i,axesData:t},mapSeries:{mapModel:n,colorModel:i},tooltip:{mapModel:n}}},_attachCustomEvent:function(){var t=this.componentManager.get("customEvent"),e=this.componentManager.get("mapSeries"),i=this.componentManager.get("legend"),n=this.componentManager.get("tooltip"),s=this.componentManager.get("zoom");t.on({clickMapSeries:e.onClickSeries,moveMapSeries:e.onMoveSeries,dragStartMapSeries:e.onDragStartSeries,dragMapSeries:e.onDragSeries,dragEndMapSeries:e.onDragEndSeries},e),e.on({showWedge:i.onShowWedge,hideWedge:i.onHideWedge},i),e.on({showTooltip:n.onShow,hideTooltip:n.onHide,showTooltipContainer:n.onShowTooltipContainer,hideTooltipContainer:n.onHideTooltipContainer},n),s.on("zoom",e.onZoom,e,e)}});e.exports=m},{"../const":19,"../customEvents/mapChartCustomEvent":24,"../helpers/axisDataMaker":33,"../helpers/mapChartDataProcessor":40,"../legends/mapChartLegend":49,"../series/mapChartSeries":70,"../series/zoom":74,"../tooltips/mapChartTooltip":78,"./chartBase":8,"./mapChartColorModel":15,"./mapChartMapModel":16}],15:[function(t,e,i){"use strict";var n=t("../helpers/colorutil"),s=tui.util.defineClass({init:function(t,e){var i;this.start=n.colorNameToHex(t),this.startRGB=n.hexToRGB(this.start),this.end=n.colorNameToHex(e),i=n.hexToRGB(this.end),this.distances=this._makeDistances(this.startRGB,i),this.colorMap={}},_makeDistances:function(t,e){return tui.util.map(t,function(t,i){return e[i]-t})},getColor:function(t){var e,i,s=this.colorMap[t];return s||(e=this.distances,i=tui.util.map(this.startRGB,function(i,n){return i+parseInt(e[n]*t,10)}),s=n.rgbToHEX.apply(null,i)),s}});e.exports=s},{"../helpers/colorutil":36}],16:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e){this.commandFuncMap={M:tui.util.bind(this._makeCoordinate,this),m:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),L:tui.util.bind(this._makeCoordinate,this),l:tui.util.bind(this._makeCoordinateFromRelativeCoordinate,this),H:tui.util.bind(this._makeXCoordinate,this),h:tui.util.bind(this._makeXCoordinateFroRelativeCoordinate,this),V:tui.util.bind(this._makeYCoordinate,this),v:tui.util.bind(this._makeYCoordinateFromRelativeCoordinate,this)},this.ignoreCommandMap={Z:!0,z:!0},this.mapData=[],this.mapDimension=null,this.dataProcessor=t,this._createMapData(e)},_splitCoordinate:function(t){var e=t.split(","),i={x:parseFloat(e[0])};return e[1]&&(i.y=parseFloat(e[1])),i},_makeCoordinate:function(t){return this._splitCoordinate(t)},_makeCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x,y:i.y+e.y}},_makeXCoordinate:function(t){var e=this._splitCoordinate(t);return{x:e.x}},_makeXCoordinateFroRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{x:i.x+e.x}},_makeYCoordinate:function(t){var e=this._splitCoordinate(t);return{y:e.x}},_makeYCoordinateFromRelativeCoordinate:function(t,e){var i=this._splitCoordinate(t);return{y:i.x+e.y}},_splitPath:function(t){for(var e,i,n=0,s=t.length,r=[],o="";s>n;n+=1)e=t.charAt(n),this.commandFuncMap[e]?(i&&o&&r.push({type:i,coordinate:o}),i=e,o=""):this.ignoreCommandMap[e]||(o+=e);return i&&o&&r.push({type:i,coordinate:o}),r},_makeCoordinatesFromPath:function(t){var e=this._splitPath(t),i={x:0,y:0};return tui.util.map(e,function(t){var e=this.commandFuncMap[t.type],n=e(t.coordinate,i);return tui.util.extend(i,n),n},this)},_findBoundFromCoordinates:function(t){var e=tui.util.filter(tui.util.pluck(t,"x"),function(t){return!tui.util.isUndefined(t)}),i=tui.util.filter(tui.util.pluck(t,"y"),function(t){return!tui.util.isUndefined(t)}),n=Math.max.apply(null,e),s=Math.min.apply(null,e),r=Math.max.apply(null,i),o=Math.min.apply(null,i);return{dimension:{width:n-s,height:r-o},position:{left:s,top:o}}},_makeLabelPosition:function(t,e){return e=e||n.MAP_CHART_LABEL_DEFAULT_POSITION_RATIO,{left:t.position.left+t.dimension.width*e.x,top:t.position.top+t.dimension.height*e.y}},_createMapData:function(t){this.mapData=tui.util.map(t,function(t){var e,i,n,s,r,o=this._makeCoordinatesFromPath(t.path),a=this._findBoundFromCoordinates(o),u=this.dataProcessor.getValueMapDatum(t.code);return u&&(n=u.formattedValue,s=u.percentValue,e=u.name||t.name,i=u.labelCoordinate||t.labelCoordinate),r={code:t.code,name:e,path:t.path,bound:a,labelPosition:this._makeLabelPosition(a,i)},n&&(r.formattedValue=n),s&&(r.percentValue=s),r},this)},getMapData:function(){return this.mapData},getDatum:function(t){return this.mapData[t]},getLabelData:function(t){var e=tui.util.filter(this.mapData,function(t){return this.dataProcessor.getValueMapDatum(t.code)},this);return tui.util.map(e,function(e){return{name:e.name,labelPosition:{left:e.labelPosition.left*t,top:e.labelPosition.top*t}}})},_makeMapDimension:function(){var t=this.mapData,e=tui.util.map(t,function(t){return t.bound.position.left}),i=tui.util.map(t,function(t){return t.bound.position.left+t.bound.dimension.width}),n=tui.util.map(t,function(t){return t.bound.position.top}),s=tui.util.map(t,function(t){return t.bound.position.top+t.bound.dimension.height});return{width:Math.max.apply(null,i)-Math.min.apply(null,e),height:Math.max.apply(null,s)-Math.min.apply(null,n)}},getMapDimension:function(){return this.mapDimension||(this.mapDimension=this._makeMapDimension()),this.mapDimension}});e.exports=s},{"../const":19}],17:[function(t,e,i){"use strict";var n=t("./chartBase"),s=t("../const"),r=t("../helpers/predicate"),o=t("../legends/legend"),a=t("../tooltips/tooltip"),u=t("../series/pieChartSeries"),l=t("../customEvents/pieChartCustomEvent"),h=tui.util.defineClass(n,{init:function(t,e,i){this.className="tui-pie-chart",i.tooltip=i.tooltip||{},i.tooltip.align||(i.tooltip.align=s.TOOLTIP_DEFAULT_ALIGN_OPTION),n.call(this,{rawData:t,theme:e,options:i}),this._addComponents(e.chart.background,i)},_addComponents:function(t,e){var i,n;e.legend=e.legend||{},i=e.legend&&e.legend.align,n=r.isPieLegendAlign(i),n||e.legend.hidden||this.componentManager.register("legend",o,{chartType:e.chartType,userEvent:this.userEvent}),this.componentManager.register("tooltip",a,this._makeTooltipData()),this.componentManager.register("pieSeries",u,{libType:e.libType,chartType:e.chartType,componentType:"series",chartBackground:t,userEvent:this.userEvent,legendAlign:n&&!e.legend.hidden?i:null})},_addCustomEventComponent:function(){this.componentManager.register("customEvent",l,{chartType:this.chartType})},_updatePercentValues:function(){this.dataProcessor.registerPieChartPercentValues(this.options.chartType)},_attachCustomEvent:function(){var t,e,i;n.prototype._attachCustomEvent.call(this),t=this.componentManager.get("customEvent"),e=this.componentManager.get("tooltip"),i=this.componentManager.get("pieSeries"),t.on({clickPieSeries:i.onClickSeries,movePieSeries:i.onMoveSeries},i),i.on({showTooltip:e.onShow,hideTooltip:e.onHide,showTooltipContainer:e.onShowTooltipContainer,hideTooltipContainer:e.onHideTooltipContainer},e)}});e.exports=h},{"../const":19,"../customEvents/pieChartCustomEvent":25,"../helpers/predicate":41,"../legends/legend":45,"../series/pieChartSeries":71,"../tooltips/tooltip":80,"./chartBase":8}],18:[function(t,e,i){"use strict";function n(t,e){function i(){s=x.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){t.apply(null,s)},e)}var n,s;return e=e||0,i}function s(t,e){function i(){return a=x.call(arguments),l?(h(a),void(l=!1)):(o=u(),s=s||o,r(a),void(o-s>=e&&h(a)))}function n(){l=!0,s=null}var s,r,o,a,u=tui.util.timestamp,l=!0,h=function(e){t.apply(null,e),s=null};return e=e||0,r=tui.util.debounce(h,e),i.reset=n,i}var r=function(t,e,i){var n,s,r;return e||(e=function(t){return t}),n=t[0],s=e.call(i,n),r=t.slice(1),tui.util.forEachArray(r,function(t){var r=e.call(i,t);s>r&&(s=r,n=t)}),n},o=function(t,e,i){var n,s,r;return e||(e=function(t){return t}),n=t[0],s=e.call(i,n),r=t.slice(1),tui.util.forEachArray(r,function(t){var r=e.call(i,t);r>s&&(s=r,n=t)}),n},a=function(t,e,i){var n=!1;return tui.util.forEachArray(t,function(s,r){return e.call(i,s,r,t)?(n=!0,!1):void 0}),n},u=function(t,e,i){var n=!0;return tui.util.forEachArray(t,function(s,r){return e.call(i,s,r,t)?void 0:(n=!1,!1)}),n},l=function(t,e,i,n){var s,r=[];return tui.util.isBoolean(e)||(n=i,i=e,e=!1),i=i||function(t){return t},e?tui.util.forEachArray(t,function(e,o){e=i.call(n,e,o,t),o&&s===e||r.push(e),s=e}):tui.util.forEachArray(t,function(e,s){e=i.call(n,e,s,t),-1===tui.util.inArray(e,r)&&r.push(e)}),r},h=function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i].push(t)})}),e},c=function(t){var e=(t+"").split(".");return 2===e.length?e[1].length:0},d=function(){var t=[].slice.call(arguments),e=tui.util.map(t,function(t){return tui.util.lengthAfterPoint(t)}),i=tui.util.max(e),n=Math.pow(10,i);return n},p=function(t,e){var i=tui.util.findMultipleNum(e);return t*i%(e*i)/i},m=function(t,e){var i=d(t,e);return(t*i+e*i)/i},f=function(t,e){var i=d(t,e);return(t*i-e*i)/i},g=function(t,e){var i=d(t,e);return t*i*(e*i)/(i*i)},_=function(t,e){var i=d(t,e);return t*i/(e*i)},T=function(t){var e=t.slice();return e.unshift(0),tui.util.reduce(e,function(t,e){return parseFloat(t)+parseFloat(e)})},v=function(t){return t.substring(0,1).toUpperCase()+t.substring(1)};tui.util.min=r,tui.util.max=o,tui.util.any=a,tui.util.all=u,tui.util.unique=l,tui.util.pivot=h,tui.util.lengthAfterPoint=c,tui.util.mod=p,tui.util.findMultipleNum=d,tui.util.addition=m,tui.util.subtraction=f,tui.util.multiplication=g,tui.util.division=_,tui.util.sum=T,tui.util.properCase=v;var x=Array.prototype.slice;tui.util.debounce=n,tui.util.throttle=s},{}],19:[function(t,e,i){var n={CLASS_NAME_LEGEND_LABEL:"tui-chart-legend-label",CLASS_NAME_LEGEND_CHECKBOX:"tui-chart-legend-checkbox",CLASS_NAME_SERIES_LABEL:"tui-chart-series-label",CLASS_NAME_SERIES_LEGEND:"tui-chart-series-legend",CHART_TYPE_BAR:"bar",CHART_TYPE_COLUMN:"column",CHART_TYPE_LINE:"line",CHART_TYPE_AREA:"area",CHART_TYPE_COMBO:"combo",CHART_TYPE_PIE:"pie",CHART_TYPE_MAP:"map",CHART_PADDING:10,CHART_DEFAULT_WIDTH:500,CHART_DEFAULT_HEIGHT:400,HIDDEN_WIDTH:1,TEXT_PADDING:2,SERIES_EXPAND_SIZE:10,SERIES_LABEL_PADDING:5,DEFAULT_TITLE_FONT_SIZE:14,DEFAULT_AXIS_TITLE_FONT_SIZE:10,DEFAULT_LABEL_FONT_SIZE:12,DEFAULT_SERIES_LABEL_FONT_SIZE:11,DEFAULT_PLUGIN:"raphael",DEFAULT_TICK_COLOR:"black",DEFAULT_THEME_NAME:"default",MAX_HEIGHT_WORLD:"A",STACKED_NORMAL_TYPE:"normal",STACKED_PERCENT_TYPE:"percent",EMPTY_AXIS_LABEL:"",ANGLE_85:85,ANGLE_90:90,ANGLE_360:360,RAD:Math.PI/180,LEGEND_ALIGN_OUTER:"outer",LEGEND_ALIGN_CENTER:"center",LEGEND_ALIGN_TOP:"top",LEGEND_ALIGN_BOTTOM:"bottom",LEGEND_ALIGN_LEFT:"left",SERIES_OUTER_LABEL_PADDING:20,PIE_GRAPH_DEFAULT_RATE:.8,PIE_GRAPH_SMALL_RATE:.65,MAP_CHART_LEGEND_TICK_COUNT:4,MAP_CHART_LABEL_DEFAULT_POSITION_RATIO:{x:.5,y:.5},DOT_RADIUS:4,YAXIS_PROPS:["tickColor","title","label"],SERIES_PROPS:["label","colors","borderColor","singleColors","selectionColor","startColor","endColor","overColor"],TITLE_AREA_WIDTH_PADDING:20,XAXIS_LABEL_TOP_MARGIN:10,V_LABEL_RIGHT_PADDING:10,TOOLTIP_PREFIX:"tui-chart-tooltip",TOOLTIP_ZINDEX:500,TOOLTIP_ANIMATION_TIME:100,TOOLTIP_PIE_ANIMATION_TIME:50,MIN_PIXEL_TYPE_STEP_SIZE:40,MAX_PIXEL_TYPE_STEP_SIZE:60,PERCENT_STACKED_TICK_INFO:{limit:{min:0,max:100},step:25,tickCount:5,labels:[0,25,50,75,100]},NEGATIVE_PERCENT_STACKED_TICK_INFO:{limit:{min:-100,max:100},step:25,tickCount:9,labels:[-100,-75,-50,-25,0,25,50,75,100]},DIVERGENT_PERCENT_STACKED_TICK_INFO:{limit:{min:-100,max:100},step:25,tickCount:9,labels:[100,75,50,25,0,25,50,75,100]},TITLE_PADDING:20,LEGEND_AREA_PADDING:10,LEGEND_CHECKBOX_WIDTH:20,LEGEND_RECT_WIDTH:12,LEGEND_LABEL_LEFT_PADDING:5,MAP_LEGEND_SIZE:200,MAP_LEGEND_GRAPH_SIZE:25,MAP_LEGEND_LABEL_PADDING:5,AXIS_LABEL_PADDING:7,DEGREE_CANDIDATES:[25,45,65,85],XAXIS_LABEL_COMPARE_MARGIN:20,XAXIS_LABEL_GUTTER:2,AXIS_STANDARD_MULTIPLE_NUMS:[1,2,5,10,20,50,100],AXIS_LAST_STANDARD_MULTIPLE_NUM:100,LABEL_PADDING_TOP:2,LINE_MARGIN_TOP:5,TOOLTIP_GAP:5,TOOLTIP_DIRECTION_FORWARD:"forword",TOOLTIP_DIRECTION_CENTER:"center",TOOLTIP_DIRECTION_BACKWARD:"backword",TOOLTIP_DEFAULT_ALIGN_OPTION:"center top",TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:"right middle",TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION:"center bottom",HIDE_DELAY:200};e.exports=n},{}],20:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("./areaTypeDataModel"),r=t("../const"),o=tui.util.defineClass(n,{init:function(t){n.call(this,t),this.prevFoundData=null},initCustomEventData:function(t){var e=t[0];this.dataModel=new s(e),n.prototype.initCustomEventData.call(this,t)},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-r.SERIES_EXPAND_SIZE-i.left,s=t.clientY-i.top,o=this.tickBaseDataModel.findIndex(n),a=this.dataModel.findData(o,s);this._isChanged(this.prevFoundData,a)&&(a?this.fire("showTooltip",a):this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=a)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=o},{"../const":19,"./areaTypeDataModel":21,"./customEventBase":22}],21:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(t){this.data=this._makeData(t.data.groupPositions,t.chartType)},_makeData:function(t,e){return t=tui.util.pivot(t),tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){return{chartType:e,indexes:{groupIndex:i,index:n},bound:t}})})},findData:function(t,e){var i=null,n=1e4;return tui.util.forEach(this.data[t],function(t){var s=Math.abs(e-t.bound.top);n>s&&(n=s,i=t)}),i}});e.exports=n},{}],22:[function(t,e,i){"use strict";var n=t("../helpers/eventListener"),s=t("./tickBaseDataModel"),r=t("./pointTypeDataModel"),o=t("../const"),a=t("../helpers/domHandler"),u=t("../helpers/renderUtil"),l=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.isVertical=t.isVertical,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker},_renderCustomEventArea:function(t,e){var i;this.dimension=this.boundsMaker.getDimension("customEvent"),this.tickBaseDataModel=new s(this.dimension,e.tickCount,this.chartType,this.isVertical),i=u.expandBound(this.boundsMaker.getBound("customEvent")),u.renderDimension(t,i.dimension),u.renderPosition(t,i.position)},render:function(t){var e=a.create("DIV","tui-chart-series-custom-event-area");return this._renderCustomEventArea(e,t),this.attachEvent(e),this.customEventContainer=e,e},initCustomEventData:function(t){this.pointTypeDataModel=new r(t)},rerender:function(t){this._renderCustomEventArea(this.customEventContainer,t)},resize:function(t){this.rerender(t)},_isChanged:function(t,e){return!t||!e||t.chartType!==e.chartType||t.indexes.groupIndex!==e.indexes.groupIndex||t.indexes.index!==e.indexes.index},_findPointTypeData:function(t,e,i){var n=t.getBoundingClientRect(),s=e-n.left,r=i-n.top,a=this.tickBaseDataModel.findIndex(this.isVertical?s:r);return this.pointTypeDataModel.findData(a,s+o.SERIES_EXPAND_SIZE,r)},_unselectSelectedData:function(){var t=u.makeCustomEventName("unselect",this.selectedData.chartType,"series");this.fire(t,this.selectedData),delete this.selectedData},_onMouseEvent:function(t,e){var i=u.makeCustomEventName(t,this.chartType,"series");a.addClass(this.customEventContainer,"hide"),this.fire(i,{left:e.clientX,top:e.clientY}),a.removeClass(this.customEventContainer,"hide")},_onClick:function(t){var e=t.target||t.srcElement,i=t.clientX-o.SERIES_EXPAND_SIZE,n=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.selectedData,n)?n&&(this.selectedData&&this._unselectSelectedData(),this.fire(u.makeCustomEventName("select",n.chartType,"series"),n),this.selectedData=n):this._unselectSelectedData()},_onMousedown:function(){},_onMouseup:function(){},_onMousemove:function(){},_onMouseout:function(){},attachEvent:function(t){n.bindEvent("click",t,tui.util.bind(this._onClick,this)),n.bindEvent("mousedown",t,tui.util.bind(this._onMousedown,this)),n.bindEvent("mouseup",t,tui.util.bind(this._onMouseup,this)),n.bindEvent("mousemove",t,tui.util.bind(this._onMousemove,this)),n.bindEvent("mouseout",t,tui.util.bind(this._onMouseout,this))}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":19,"../helpers/domHandler":38,"../helpers/eventListener":39,"../helpers/renderUtil":42,"./pointTypeDataModel":27,"./tickBaseDataModel":28}],23:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../const"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_isOutPosition:function(t,e){var i=this.dimension;return 0>t||t>i.width||0>e||e>i.height},_onMousemove:function(t){var e=t.target||t.srcElement,i=e.getBoundingClientRect(),n=t.clientX-s.SERIES_EXPAND_SIZE-i.left,r=t.clientY-s.SERIES_EXPAND_SIZE-i.top,o=-1;this._isOutPosition(n,r)||(o=this.tickBaseDataModel.findIndex(this.isVertical?n:r)),-1===o?this._onMouseout():this.prevIndex!==o&&(this.prevIndex=o,this.fire("showGroupTooltip",{index:o,range:this.tickBaseDataModel.makeRange(o,this.chartType),size:this.dimension[this.isVertical?"height":"width"],isVertical:this.isVertical}))},_onMouseout:function(){tui.util.isUndefined(this.prevIndex)||(this.fire("hideGroupTooltip",this.prevIndex),delete this.prevIndex)}});e.exports=r},{"../const":19,"./customEventBase":22}],24:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType,this.isDown=!1},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");r.renderDimension(t,e.dimension),r.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(){},_onMousedown:function(t){this.isDown=!0,this.fire("dragStartMapSeries",{left:t.clientX,top:t.clientY})},_dragEnd:function(){this.isDrag=!1,s.removeClass(this.customEventContainer,"drag"),this.fire("dragEndMapSeries")},_onMouseup:function(t){this.isDown=!1,this.isDrag?this._dragEnd():this.isMove||this._onMouseEvent("click",t),this.isMove=!1},_onMousemove:function(t){this.isDown?(this.isDrag||s.addClass(this.customEventContainer,"drag"),this.isDrag=!0,this.fire("dragMapSeries",{left:t.clientX,top:t.clientY})):(this.isMove=!0,this._onMouseEvent("move",t))},_onMouseout:function(t){this.isDrag?this._dragEnd():this._onMouseEvent("move",t),this.isDown=!1}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../helpers/domHandler":38,"../helpers/renderUtil":42,"./customEventBase":22}],25:[function(t,e,i){"use strict";var n=t("./customEventBase"),s=t("../helpers/renderUtil"),r=tui.util.defineClass(n,{init:function(t){this.boundsMaker=t.boundsMaker,this.chartType=t.chartType},_renderCustomEventArea:function(t){var e=this.boundsMaker.getBound("customEvent");s.renderDimension(t,e.dimension),s.renderPosition(t,e.position)},initCustomEventData:function(){},_onClick:function(t){this._onMouseEvent("click",t)},_onMousemove:function(t){this._onMouseEvent("move",t)}});tui.util.CustomEvents.mixin(r),e.exports=r},{"../helpers/renderUtil":42,"./customEventBase":22}],26:[function(t,e,i){"use strict";var n=t("../const"),s=t("./customEventBase"),r=tui.util.defineClass(s,{init:function(){s.apply(this,arguments),this.prevFoundData=null},_onMousemove:function(t){var e=t.target||t.srcElement,i=t.clientX-n.SERIES_EXPAND_SIZE,s=this._findPointTypeData(e,i,t.clientY);this._isChanged(this.prevFoundData,s)&&(this.prevFoundData&&this.fire("hideTooltip",this.prevFoundData),s&&this.fire("showTooltip",s),this.prevFoundData=s)},_onMouseout:function(){this.prevFoundData&&(this.fire("hideTooltip",this.prevFoundData),this.prevFoundData=null)}});e.exports=r},{"../const":19,"./customEventBase":22}],27:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),r=tui.util.defineClass({init:function(t){this.data=this._makeData(t)},_makeRectTypeCoordinateData:function(t,e){return tui.util.map(t,function(t,i){return tui.util.map(t,function(t,n){var s;return t?(s=t.end,{sendData:{chartType:e,indexes:{groupIndex:i,index:n},allowNegativeTooltip:!0,bound:s},bound:{left:s.left,top:s.top,right:s.left+s.width,bottom:s.top+s.height}}):null})})},_makeDotTypeCoordinateData:function(t,e){return t?tui.util.map(tui.util.pivot(t),function(t,i){return tui.util.map(t,function(t,s){return{sendData:{chartType:e,indexes:{groupIndex:i,index:s},bound:t},bound:{left:t.left-n.DOT_RADIUS,top:t.top-n.DOT_RADIUS,right:t.left+n.DOT_RADIUS,bottom:t.top+n.DOT_RADIUS}}})}):[]},_joinData:function(t){var e=[];return tui.util.forEachArray(t,function(t){tui.util.forEachArray(t,function(t,i){e[i]||(e[i]=[]),e[i]=e[i].concat(t)})}),e},_makeData:function(t){var e;return t.reverse(),e=tui.util.map(t,function(t){var e;return e=s.isLineTypeChart(t.chartType)?this._makeDotTypeCoordinateData(t.data.groupPositions,t.chartType):this._makeRectTypeCoordinateData(t.data.groupBounds,t.chartType)},this),this._joinData(e)},findData:function(t,e,i){var n,s=1e4,r=null;return-1===t?r:(n=tui.util.filter(this.data[t],function(t){var n=t&&t.bound;return n&&n.left<=e&&n.right>=e&&n.top<=i&&n.bottom>=i}),tui.util.forEachArray(n,function(t){var e=Math.abs(i-t.sendData.bound.top);s>e&&(s=e,r=t.sendData)}),r)}});e.exports=r},{"../const":19,"../helpers/predicate":41}],28:[function(t,e,i){"use strict";var n=t("../helpers/predicate"),s=tui.util.defineClass({init:function(t,e,i,n){this.data=this._makeData(t,e,i,n)},_makeLineTypeData:function(t,e){var i=(t+1)/(e-1),n=i/2,s=tui.util.map(tui.util.range(0,e),function(t){return{min:t*i-n,max:t*i+n}});return s[e-1].max-=1,s},_makeNormalData:function(t,e){var i=e-1,n=t/i,s=0;return tui.util.map(tui.util.range(0,i),function(e){var i=tui.util.min([t,(e+1)*n]),r={min:s,max:i};return s=i,r})},_makeData:function(t,e,i,s){var r,o=s?"width":"height";return r=n.isLineTypeChart(i)?this._makeLineTypeData(t[o],e):this._makeNormalData(t[o],e)},findIndex:function(t){var e=-1;return tui.util.forEachArray(this.data,function(i,n){return i.min<t&&i.max>=t?(e=n,!1):void 0}),e},getLength:function(){return this.data.length},makeRange:function(t,e){var i,s,r=this.data[t];return n.isLineTypeChart(e)?(s=parseInt(r.max-(r.max-r.min)/2,10),i={start:s,end:s}):i={start:r.min,end:r.max},i}});e.exports=s},{"../helpers/predicate":41}],29:[function(t,e,i){"use strict";var n={},s={get:function(t,e,i,s){var r,o=n[t];if(!o)throw new Error("Not exist "+t+" chart.");return r=new o(e,i,s)},register:function(t,e){n[t]=e}};e.exports=s},{}],30:[function(t,e,i){"use strict";var n={};e.exports={get:function(t){var e=n[t];if(!e)throw new Error("Not exist "+t+" map.");return e},register:function(t,e){n[t]=e}}},{}],31:[function(t,e,i){"use strict";var n={},s={get:function(t,e){var i,s,r=n[t];if(!r)throw new Error("Not exist "+t+" plugin.");if(i=r[e],!i)throw new Error("Not exist "+e+" chart renderer.");return s=new i},register:function(t,e){n[t]=e}};e.exports=s},{}],32:[function(t,e,i){"use strict";var n=t("../const"),s=t("../themes/defaultTheme"),r={};e.exports={get:function(t){var e=r[t];if(!e)throw new Error("Not exist "+t+" theme.");return e},register:function(t,e){var i;e=JSON.parse(JSON.stringify(e)),t!==n.DEFAULT_THEME_NAME&&(e=this._initTheme(e)),i=this._getInheritTargetThemeItems(e),this._inheritThemeFont(e,i),this._copyColorInfo(e),r[t]=e},_initTheme:function(t){var e,i=JSON.parse(JSON.stringify(s));return this._concatDefaultColors(t,i.series.colors),e=this._overwriteTheme(t,i),e=this._copyProperty({propName:"yAxis",fromTheme:t,toTheme:e,rejectionProps:n.YAXIS_PROPS}),e=this._copyProperty({propName:"series",fromTheme:t,toTheme:e,rejectionProps:n.SERIES_PROPS})},_filterChartTypes:function(t,e){var i;return t?i=tui.util.filter(t,function(t,i){return-1===tui.util.inArray(i,e)}):[]},_concatColors:function(t,e){t.colors&&(t.colors=t.colors.concat(e)),t.singleColors&&(t.singleColors=t.singleColors.concat(e))},_concatDefaultColors:function(t,e){var i;t.series&&(i=this._filterChartTypes(t.series,n.SERIES_PROPS),tui.util.keys(i).length?tui.util.forEach(i,function(t){this._concatColors(t,e)},this):this._concatColors(t.series,e))},_overwriteTheme:function(t,e){return tui.util.forEach(e,function(i,n){var s=t[n];s&&(tui.util.isArray(s)?e[n]=s.slice():tui.util.isObject(s)?this._overwriteTheme(s,i):e[n]=s)},this),e},_copyProperty:function(t){var e;return t.toTheme[t.propName]?(e=this._filterChartTypes(t.fromTheme[t.propName],t.rejectionProps),tui.util.keys(e).length&&(tui.util.forEach(e,function(e,i){var n=JSON.parse(JSON.stringify(s[t.propName]));t.fromTheme[t.propName][i]=this._overwriteTheme(e,n)},this),t.toTheme[t.propName]=t.fromTheme[t.propName]),t.toTheme):t.toTheme},_copyColorInfoToOther:function(t,e,i){e.colors=i||t.colors,t.singleColors&&(e.singleColors=t.singleColors),t.borderColor&&(e.borderColor=t.borderColor),t.selectionColor&&(e.selectionColor=t.selectionColor)},_getInheritTargetThemeItems:function(t){var e=[t.title,t.xAxis.title,t.xAxis.label,t.legend.label],i=this._filterChartTypes(t.yAxis,n.YAXIS_PROPS),s=this._filterChartTypes(t.series,n.SERIES_PROPS);return tui.util.keys(i).length?tui.util.forEach(i,function(t){e.push(t.title),e.push(t.label)}):(e.push(t.yAxis.title),e.push(t.yAxis.label)),tui.util.keys(s).length?tui.util.forEach(s,function(t){e.push(t.label)}):e.push(t.series.label),e},_inheritThemeFont:function(t,e){var i=t.chart.fontFamily;tui.util.forEachArray(e,function(t){t.fontFamily||(t.fontFamily=i)})},_copyColorInfo:function(t){var e=this._filterChartTypes(t.series,n.SERIES_PROPS);tui.util.keys(e).length?tui.util.forEach(e,function(e,i){t.legend[i]={},t.tooltip[i]={},this._copyColorInfoToOther(e,t.legend[i],e.colors||t.legend.colors),this._copyColorInfoToOther(e,t.tooltip[i],e.colors||t.tooltip.colors),delete t.legend.colors,delete t.tooltip.colors},this):(this._copyColorInfoToOther(t.series,t.legend),this._copyColorInfoToOther(t.series,t.tooltip))}}},{"../const":19,"../themes/defaultTheme":75}],33:[function(t,e,i){"use strict";var n=t("../const"),s=t("./predicate"),r=t("./calculator"),o=t("./renderUtil"),a=Math.abs,u=Array.prototype.concat,l={_makeLabels:function(t,e){var i;return e?(i=t.length-1,tui.util.map(t,function(t,s){return s>0&&i>s&&s%e>0&&(t=n.EMPTY_AXIS_LABEL),t})):t},makeLabelAxisData:function(t){var e=t.labels.length,i=t.options||{};return t.aligned||(e+=1),{labels:this._makeLabels(t.labels,i.labelInterval),tickCount:e,validTickCount:0,isLabelAxis:!0,isVertical:!!t.isVertical,aligned:!!t.aligned}},makeValueAxisData:function(t){var e,i,o=t.options||{},a=!!t.isVertical,l=!!t.isPositionRight,h=s.isAllowedStackedOption(t.chartType),c=t.formatFunctions;return h&&s.isPercentStacked(t.stackedOption)?(e=r.sumMinusValues(u.apply([],t.values)),i=0>e?t.divergingOption?n.DIVERGENT_PERCENT_STACKED_TICK_INFO:n.NEGATIVE_PERCENT_STACKED_TICK_INFO:n.PERCENT_STACKED_TICK_INFO,c=[function(t){return t+"%"}]):i=this._getTickInfo({values:this._makeBaseValues(t.values,h,t.stackedOption),seriesDimension:t.seriesDimension,isVertical:a,isPositionRight:l,chartType:t.chartType,divergingOption:t.divergingOption,tickCount:t.tickCount},o),{labels:this.formatLabels(i.labels,c),tickCount:i.tickCount,validTickCount:i.tickCount,limit:i.limit,step:i.step,isVertical:a,isPositionRight:l,aligned:!!t.aligned}},_makeBaseValues:function(t,e,i){return e&&s.isNormalStacked(i)&&(t=tui.util.map(t,function(t){var e=r.sumPlusValues(t),i=r.sumMinusValues(t);return[e,i]},this)),u.apply([],t)},_getBaseSize:function(t,e){var i;return i=e?t.height:t.width},_getCandidateTickCounts:function(t,e){var i=this._getBaseSize(t,e),s=tui.util.max([3,parseInt(i/n.MAX_PIXEL_TYPE_STEP_SIZE,10)]),r=tui.util.max([s,parseInt(i/n.MIN_PIXEL_TYPE_STEP_SIZE,10)])+1,o=tui.util.range(s,r);return o},_getComparingValue:function(t,e,i){var n=a(i.limit.max-e),s=a(t-i.limit.min),r=Math.pow(10,tui.util.lengthAfterPoint(i.step));return(n+s)*r},_selectTickInfo:function(t,e,i){var n=tui.util.bind(this._getComparingValue,this,t,e),s=tui.util.min(i,n);return s},_makeLimitForDivergingOption:function(t,e){var i=Math.max(Math.abs(t),Math.abs(e));return{min:-i,max:i}},_getTickInfo:function(t,e){var i,n,s,r,o,a=tui.util.min(t.values),u=tui.util.max(t.values);return 0===a&&0===u&&(u=5),t.divergingOption&&(delete e.min,i=this._makeLimitForDivergingOption(a,u),a=i.min,u=i.max),n=this._makeIntegerTypeInfo(a,u,e),s=t.tickCount?[t.tickCount]:this._getCandidateTickCounts(t.seriesDimension,t.isVertical),r=this._getCandidateTickInfos({min:n.min,max:n.max,tickCounts:s,chartType:t.chartType},n.options),o=this._selectTickInfo(n.min,n.max,r),o=this._revertOriginalTypeTickInfo(o,n.divideNum),t.divergingOption&&(o.labels=tui.util.map(o.labels,Math.abs)),o},_makeIntegerTypeInfo:function(t,e,i){var n,s;return a(t)>=1||a(e)>=1?{min:t,max:e,options:i,divideNum:1}:(n=tui.util.findMultipleNum(t,e),s={},tui.util.isUndefined(i.min)||(s.min=i.min*n),tui.util.isUndefined(i.max)||(s.max=i.max*n),{min:t*n,max:e*n,options:s,divideNum:n})},_revertOriginalTypeTickInfo:function(t,e){return 1===e?t:(t.step=tui.util.division(t.step,e),t.limit.min=tui.util.division(t.limit.min,e),t.limit.max=tui.util.division(t.limit.max,e),t.labels=tui.util.map(t.labels,function(t){return tui.util.division(t,e)}),t)},_normalizeStep:function(t){return r.normalizeAxisNumber(t)},_minimizeTickLimit:function(t){var e,i=t.tickInfo,n=tui.util.range(1,i.tickCount),s=t.options,o=i.step,a=i.limit,u=a.max,l=a.min,h=tui.util.isUndefined(s.min),c=tui.util.isUndefined(s.max);return tui.util.forEachArray(n,function(e){var i=o*e,n=l+i,r=u-i;return t.userMin<=n&&t.userMax>=r?!1:((h&&t.userMin>n||!h&&s.min>=n)&&(a.min=n),void((h&&t.userMax<r||!c&&s.max<=r)&&(a.max=r)))}),e=r.makeLabelsFromLimit(a,o),i.labels=e,i.step=o,i.tickCount=e.length,i},_divideTickStep:function(t,e){var i=t.step,n=t.limit,s=t.tickCount;return i%2===0&&a(e-(2*s-1))<=a(e-s)&&(i/=2,t.labels=r.makeLabelsFromLimit(n,i),t.tickCount=t.labels.length,t.step=i),t},_makeTickInfo:function(t){var e,i,n=t.limit;return e=r.calculateStepFromLimit(n,t.tickCount),e=this._normalizeStep(e),n=this.normalizeLimit(n,e,t.tickCount),n.min=this._addMinPadding({min:n.min,step:e,userMin:t.userMin,minOption:t.options.min,chartType:t.chartType}),n.max=this._addMaxPadding({max:n.max,step:e,userMax:t.userMax,maxOption:t.options.max,chartType:t.chartType}),i=this._minimizeTickLimit({userMin:t.userMin,userMax:t.userMax,tickInfo:{limit:n,step:e,tickCount:t.tickCount},options:t.options}),i=this._divideTickStep(i,t.tickCount)},_addMinPadding:function(t){var e=t.min;return!s.isLineChart(t.chartType)&&t.userMin>=0||!tui.util.isUndefined(t.minOption)?e:(t.min===t.userMin&&(e-=t.step),e)},_addMaxPadding:function(t){var e=t.max;return!s.isLineChart(t.chartType)&&t.userMax<=0||!tui.util.isUndefined(t.maxOption)?e:(tui.util.isUndefined(t.maxOption)&&t.max===t.userMax&&(e+=t.step),e)},_normalizeMin:function(t,e){var i,n=tui.util.mod(t,e);return i=0===n?t:tui.util.subtraction(t,t>=0?n:e+n)},_makeNormalizedMax:function(t,e,i){var n,s,r=tui.util.multiplication(e,i-1),o=tui.util.addition(t.min,r),a=t.max-o;return a>0&&(n=a%e,s=Math.floor(a/e),o+=e*(n>0?s+1:s)),o},normalizeLimit:function(t,e,i){return t.min=this._normalizeMin(t.min,e),t.max=this._makeNormalizedMax(t,e,i),t},_getCandidateTickInfos:function(t,e){var i,n,s=t.min,r=t.max,o=t.min,a=t.max;return i=this._makeBaseLimit(o,a,e),n=tui.util.map(t.tickCounts,function(n){return this._makeTickInfo({tickCount:n,limit:tui.util.extend({},i),userMin:s,userMax:r,chartType:t.chartType,options:e})},this)},_makeBaseLimit:function(t,e,i){var n,s,o=!1;return t===e?(t>0?t=0:e=0,{min:t,max:e}):(0>t&&0>=e&&(o=!0,n=t,t=-e,e=-n),s=r.calculateLimit(t,e),o&&(n=s.min,s.min=-s.max,s.max=-n),s.min=tui.util.isUndefined(i.min)?s.min:i.min,s.max=tui.util.isUndefined(i.max)?s.max:i.max,s)},formatLabels:function(t,e){var i;return e&&e.length?i=tui.util.map(t,function(t){
return o.formatValue(t,e)}):t}};e.exports=l},{"../const":19,"./calculator":35,"./predicate":41,"./renderUtil":42}],34:[function(t,e,i){"use strict";var n=t("../const"),s=t("./calculator"),r=t("./predicate"),o=t("./renderUtil"),a=tui.util.defineClass({init:function(t){this.options=t.options||{},this.options.legend=this.options.legend||{},this.theme=t.theme||{},this.hasAxes=t.hasAxes,this.chartType=t.chartType,this.chartLeftPadding=n.CHART_PADDING,this.dataProcessor=t.dataProcessor,this.initBoundsData()},initBoundsData:function(t){this.dimensions={legend:{width:0},yAxis:{width:0},rightYAxis:{width:0},xAxis:{height:0}},this.positions={},this.axesData={},this.xAxisDegree=0,t&&(this.options.chart=t),this._registerChartDimension(),this._registerTitleDimension()},_registerDimension:function(t,e){this.dimensions[t]=tui.util.extend(this.dimensions[t]||{},e)},registerBaseDimension:function(t,e){this._registerDimension(t,e)},registerAxesData:function(t){this.axesData=t},getBound:function(t){return{dimension:this.dimensions[t]||{},position:this.positions[t]||{}}},getDimension:function(t){return this.dimensions[t]},getPosition:function(t){return this.positions[t]},_registerChartDimension:function(){var t=this.options.chart||{},e={width:t.width||n.CHART_DEFAULT_WIDTH,height:t.height||n.CHART_DEFAULT_HEIGHT};this._registerDimension("chart",e)},_registerTitleDimension:function(){var t=this.options.chart||{},e={height:o.getRenderedLabelHeight(t.title,this.theme.title)+n.TITLE_PADDING};this._registerDimension("title",e)},_calculateXAxisLabelLimitWidth:function(){var t=this.getDimension("series").width,e=this.axesData.xAxis.labels.length,i=r.isLineTypeChart(this.chartType);return t/(i?e-1:e)},_findRotationDegree:function(t,e,i){var r,o=e/2,a=i/2;return tui.util.forEachArray(n.DEGREE_CANDIDATES,function(e){var i=2*(s.calculateAdjacent(e,o)+s.calculateAdjacent(n.ANGLE_90-e,a));return r=e,i<=t+n.XAXIS_LABEL_COMPARE_MARGIN?!1:void 0}),r},_makeHorizontalLabelRotationInfo:function(t){var e,i,n=this.axesData.xAxis.labels,s=this.theme.xAxis.label,r=o.getRenderedLabelsMaxWidth(n,s);return t>=r?null:(i=o.getRenderedLabelsMaxHeight(n,s),e=this._findRotationDegree(t,r,i),{maxLabelWidth:r,labelHeight:i,degree:e})},_calculateOverflowLeft:function(t,e){var i=t.degree,r=t.labelHeight,a=o.getRenderedLabelWidth(e,this.theme.xAxis.label),u=2*(s.calculateAdjacent(i,a/2)+s.calculateAdjacent(n.ANGLE_90-i,r/2)),l=u-this.getDimension("yAxis").width;return l},_updateDimensionsWidth:function(t){t>0&&(this.chartLeftPadding+=t,this.dimensions.plot.width-=t,this.dimensions.series.width-=t,this.dimensions.xAxis.width-=t)},_updateDegree:function(t,e,i){var s,r;i>0&&(s=this.getDimension("series").width/e+n.XAXIS_LABEL_GUTTER,r=this._findRotationDegree(s,t.maxLabelWidth,t.labelHeight),t.degree=r)},_calculateXAxisRotatedHeight:function(t){var e=t.degree,i=t.maxLabelWidth,r=t.labelHeight,o=2*(s.calculateOpposite(e,i/2)+s.calculateOpposite(n.ANGLE_90-e,r/2));return o},_calculateDiffWithRotatedHeight:function(t){var e=this._calculateXAxisRotatedHeight(t);return e-t.labelHeight},_calculateDiffWithMultilineHeight:function(t,e){var i=this.theme.xAxis.label,n=this.dataProcessor.getMultilineCategories(e,i),s=o.getRenderedLabelsMaxHeight(t,i),r=o.getRenderedLabelsMaxHeight(n,tui.util.extend({cssText:"line-height:1.2;width:"+e+"px"},i));return r-s},_updateDimensionsHeight:function(t){this.dimensions.plot.height-=t,this.dimensions.series.height-=t,this.dimensions.yAxis.height-=t,this.dimensions.rightYAxis.height-=t,this.dimensions.xAxis.height+=t},_updateDimensionsAndDegree:function(){var t,e,i,n=this.options.xAxis||{},s=this._calculateXAxisLabelLimitWidth(),r=this.axesData.xAxis.labels;n.rotation!==!1&&(t=this._makeHorizontalLabelRotationInfo(s)),t?(e=this._calculateOverflowLeft(t,r[0]),this.xAxisDegree=t.degree,this._updateDimensionsWidth(e),this._updateDegree(t,r.length,e),i=this._calculateDiffWithRotatedHeight(t)):i=this._calculateDiffWithMultilineHeight(r,s),this._updateDimensionsHeight(i)},_makePlotDimension:function(){var t=this.getDimension("series");return{width:t.width+n.HIDDEN_WIDTH,height:t.height+n.HIDDEN_WIDTH}},_registerAxisComponentsDimension:function(){var t=this._makePlotDimension();this._registerDimension("plot",t),this._registerDimension("xAxis",{width:t.width}),this._registerDimension("yAxis",{height:t.height}),this._registerDimension("rightYAxis",{height:t.height})},makeSeriesWidth:function(){var t,e;return t=r.isHorizontalLegend(this.options.legend.align)?0:this.getDimension("legend").width,e=t+this.getDimension("rightYAxis").width,this.getDimension("chart").width-2*n.CHART_PADDING-this.getDimension("yAxis").width-e},makeSeriesHeight:function(){var t,e;return t=r.isHorizontalLegend(this.options.legend.align)?this.getDimension("legend").height:0,e=t+this.dimensions.xAxis.height,this.getDimension("chart").height-2*n.CHART_PADDING-this.getDimension("title").height-e},_makeSeriesDimension:function(){return{width:this.makeSeriesWidth(),height:this.makeSeriesHeight()}},_registerCenterComponentsDimension:function(){var t=this._makeSeriesDimension();this._registerDimension("series",t),this._registerDimension("tooltip",t),this._registerDimension("customEvent",t)},_registerAxisComponentsPosition:function(t,e){var i=this.getDimension("series");this.positions.plot={top:t.top,left:t.left-n.HIDDEN_WIDTH},this.positions.yAxis={top:t.top,left:this.chartLeftPadding+e},this.positions.xAxis={top:t.top+i.height,left:t.left-n.HIDDEN_WIDTH},this.positions.rightYAxis={top:t.top,left:this.chartLeftPadding+this.getDimension("yAxis").width+i.width+e-n.HIDDEN_WIDTH}},_makeLegendPosition:function(){var t,e=this.dimensions,i=this.getDimension("series"),s=this.options.legend,o=e.title.height;return r.isBottomLegendAlign(s.align)&&(o+=i.height+this.getDimension("xAxis").height+n.LEGEND_AREA_PADDING),t=r.isHorizontalLegend(s.align)?(this.getDimension("chart").width-this.getDimension("legend").width)/2:r.isLeftLegendAlign(s.align)?0:this.getDimension("yAxis").width+i.width+this.getDimension("rightYAxis").width+this.chartLeftPadding,{top:o,left:t}},_registerEssentialComponentsPositions:function(t){var e;this.positions.series=t,this.positions.customEvent=t,this.positions.legend=this._makeLegendPosition(),e=this.hasAxes?{top:t.top-n.SERIES_EXPAND_SIZE,left:t.left-n.SERIES_EXPAND_SIZE}:t,this.positions.tooltip=e},_registerPositions:function(){var t=this.options.legend.align,e=this.getDimension("legend"),i=r.isTopLegendAlign(t)?e.height:0,s=r.isLeftLegendAlign(t)?e.width:0,o={top:this.getDimension("title").height+n.CHART_PADDING+i,left:this.getDimension("yAxis").width+this.chartLeftPadding+s};this.hasAxes&&(this._updateDimensionsAndDegree(),this._registerAxisComponentsPosition(o,s)),this._registerEssentialComponentsPositions(o)},registerBoundsData:function(){this._registerCenterComponentsDimension(),this.hasAxes&&this._registerAxisComponentsDimension(),this._registerPositions()}});e.exports=a},{"../const":19,"./calculator":35,"./predicate":41,"./renderUtil":42}],35:[function(t,e,i){"use strict";var n=t("../const"),s={calculateLimit:function(t,e){var i,n=0,s={};return 0>t&&(n=t,e-=t,t=0),i=(e-t)/20,s.max=e+i+n,e/6>t?s.min=0+n:s.min=t-i+n,s},normalizeAxisNumber:function(t){var e,i,s=0,r=1;return 0===t?t:(0>t&&(r=-1),t*=r,tui.util.forEachArray(n.AXIS_STANDARD_MULTIPLE_NUMS,function(e){return e>t?(e>1&&(s=e),!1):void(e===n.AXIS_LAST_STANDARD_MULTIPLE_NUM&&(s=e))}),1>s?e=.1*this.normalizeAxisNumber(10*t):(i=tui.util.mod(t,s),e=tui.util.addition(t,i>0?s-i:0)),e*=r)},makeTickPixelPositions:function(t,e){var i,n,s=[];return e>0&&(i={min:0,max:t-1},n=this.calculateStepFromLimit(i,e),s=tui.util.map(tui.util.range(0,t,n),function(t){return Math.round(t)}),s[s.length-1]=t-1),s},makeLabelsFromLimit:function(t,e){var i=tui.util.findMultipleNum(e),n=t.min*i,s=t.max*i,r=tui.util.range(n,s+1,e*i);return r=tui.util.map(r,function(t){return t/i})},calculateStepFromLimit:function(t,e){return(t.max-t.min)/(e-1)},calculateAdjacent:function(t,e){return Math.cos(t*n.RAD)*e},calculateOpposite:function(t,e){return Math.sin(t*n.RAD)*e},sumPlusValues:function(t){var e=tui.util.filter(t,function(t){return t>0});return tui.util.sum(e)},sumMinusValues:function(t){var e=tui.util.filter(t,function(t){return 0>t});return tui.util.sum(e)}};e.exports=s},{"../const":19}],36:[function(t,e,i){"use strict";var n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},r={leadingZero:function(t,e){var i="",n=0;if((t+"").length>e)return t+"";for(;e-1>n;n+=1)i+="0";return(i+t).slice(-1*e)},isValidRGB:function(t){return n.test(t)},hexToRGB:function(t){var e,i,n;return r.isValidRGB(t)?(t=t.substring(1),e=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),n=parseInt(t.substr(4,2),16),[e,i,n]):!1},rgbToHEX:function(t,e,i){var n="#"+r.leadingZero(t.toString(16),2)+r.leadingZero(e.toString(16),2)+r.leadingZero(i.toString(16),2);return r.isValidRGB(n)?n:!1},colorNameToHex:function(t){return s[t.toLowerCase()]||t}};tui.util.defineNamespace("tui.chart"),tui.chart.colorutil=r,e.exports=r},{}],37:[function(t,e,i){"use strict";var n=t("./predicate"),s=t("./renderUtil"),r=t("./calculator"),o=Array.prototype.concat,a=tui.util.defineClass({init:function(t){this.orgRawData=t,this.data=null},getRawData:function(){return this.orgRawData},process:function(t,e,i){var s,r,o=e.chartType,a=this._processCategories(t.categories),u=t.series,l=this._pickValues(u),h=this._makeWholeValues(l,i),c=this._pickLegendLabels(u),d=this._makeWholeLegendData(c,o,i),p=e.chart&&e.chart.format||"",m=this._findFormatFunctions(p),f=e.series||{};this.divergingOption=n.isBarTypeChart(e.chartType)&&f.diverging,s=this._formatValues(l,m),r=this._makeWholeValues(s,i),this.data={categories:a,values:l,wholeValues:h,legendLabels:c,wholeLegendData:d,formatFunctions:m,formattedValues:s,wholeFormattedValues:r,percentValues:{}}},getCategories:function(){return this.data.categories},getCategory:function(t){return this.data.categories[t]},getGroupValues:function(t){return this.data.values[t]||this.data.values},getValue:function(t,e,i){var n=this.getGroupValues(i);return n[t][e]},getWholeGroupValues:function(){return this.data.wholeValues},getLegendLabels:function(t){return this.data.legendLabels[t]||this.data.legendLabels},getWholeLegendData:function(){return this.data.wholeLegendData},setWholeLegendData:function(t){this.data.wholeLegendData=t},getLegendData:function(t){return this.data.wholeLegendData[t]},getFormatFunctions:function(){return this.data.formatFunctions},getFormattedGroupValues:function(t){return this.data.formattedValues[t]||this.data.formattedValues},getFormattedValue:function(t,e,i){var n=this.getFormattedGroupValues(i);return n[t][e]},getFirstFormattedValue:function(t){return this.getFormattedValue(0,0,t)},getWholeFormattedValues:function(){return this.data.wholeFormattedValues},_processCategories:function(t){return tui.util.map(t,tui.util.encodeHTMLEntity)},_pickValue:function(t){return tui.util.map([].concat(t.data),parseFloat)},_pickValues:function(t){var e,i;return tui.util.isArray(t)?(e=tui.util.map(t,this._pickValue,this),i=tui.util.pivot(e)):(i={},tui.util.forEach(t,function(t,n){e=tui.util.map(t,this._pickValue,this),i[n]=tui.util.pivot(e)},this)),i},_makeWholeValues:function(t,e){var i=[];return e?tui.util.forEachArray(e,function(e){tui.util.forEach(t[e],function(t,e){i[e]||(i[e]=[]),i[e]=i[e].concat(t)})}):i=t,i},_pickLegendLabel:function(t){return tui.util.encodeHTMLEntity(t.name)},_pickLegendLabels:function(t){var e;return tui.util.isArray(t)?e=tui.util.map(t,this._pickLegendLabel,this):(e={},tui.util.forEach(t,function(t,i){e[i]=tui.util.map(t,this._pickLegendLabel,this)},this)),e},_makeWholeLegendData:function(t,e,i){var n;return i&&i.length?(n=[],tui.util.forEachArray(i,function(e){var i=tui.util.map(t[e],function(t){return{chartType:e,label:t}});n=n.concat(i)})):n=tui.util.map(t,function(t){return{chartType:e,label:t}}),n},_formatGroupValues:function(t,e){return tui.util.map(t,function(t){return this.divergingOption&&(t=tui.util.map(t,Math.abs)),tui.util.map(t,function(t){var i=[t].concat(e);return tui.util.reduce(i,function(t,e){return e(t)})})},this)},_formatValues:function(t,e){var i;return e=e||[],tui.util.isArray(t)?i=this._formatGroupValues(t,e):(i={},tui.util.forEach(t,function(t,n){i[n]=this._formatGroupValues(t,e)},this)),i},_pickMaxLenUnderPoint:function(t){var e=0;return tui.util.forEachArray(t,function(t){var i=tui.util.lengthAfterPoint(t);i>e&&(e=i)},this),e},_isZeroFill:function(t){return t.length>2&&"0"===t.charAt(0)},_isDecimal:function(t){var e=t.indexOf(".");return e>-1&&e<t.length-1},_isComma:function(t){return t.indexOf(",")===t.split(".")[0].length-4},_formatZeroFill:function(t,e){var i="0",n=0>e;if(e=Math.abs(e)+"",e.length>=t)return e;for(;e.length<t;)e=i+e;return(n?"-":"")+e},_formatDecimal:function(t,e){var i;return 0===t?Math.round(e,10):(i=Math.pow(10,t),e=Math.round(e*i)/i,e=parseFloat(e).toFixed(t))},_formatComma:function(t){var e,i,n=",",s="";return t+="",t.indexOf(".")>-1&&(e=t.split("."),t=e[0],s="."+e[1]),t.length<4?t+s:(e=t.split("").reverse(),i=e.length-1,e=tui.util.map(e,function(t,e){var s=[t];return i>e&&(e+1)%3===0&&s.push(n),s}),o.apply([],e).reverse().join("")+s)},_findFormatFunctions:function(t){var e,i=[];if(!t)return[];if(this._isDecimal(t))e=this._pickMaxLenUnderPoint([t]),i=[tui.util.bind(this._formatDecimal,this,e)];else if(this._isZeroFill(t))return e=t.length,i=[tui.util.bind(this._formatZeroFill,this,e)];return this._isComma(t)&&i.push(this._formatComma),i},_makeMultilineCategory:function(t,e,i){var n=t.split(/\s+/),r=n[0],o=[];return tui.util.forEachArray(n.slice(1),function(t){var n=s.getRenderedLabelWidth(r+" "+t,i);n>e?(o.push(r),r=t):r+=" "+t}),r&&o.push(r),o.join("<br>")},getMultilineCategories:function(t,e){return this.data.multilineCategories||(this.data.multilineCategories=tui.util.map(this.getCategories(),function(i){return this._makeMultilineCategory(i,t,e)},this)),this.data.multilineCategories},_makePieChartPercentValues:function(t){var e=tui.util.map(t,function(t){var e=tui.util.sum(t);return tui.util.map(t,function(t){return t/e})});return e},_makeNormalStackedPercentValues:function(t,e){var i=Math.abs(e.max-e.min);return tui.util.map(t,function(t){return tui.util.map(t,function(t){return t/i})})},_makePercentStackedPercentValues:function(t){var e=o.apply([],t),i=r.sumPlusValues(e),n=Math.abs(r.sumMinusValues(e)),s=i>0&&n>0?.5:1;return tui.util.map(t,function(t){var e=tui.util.sum(tui.util.map(t,function(t){return Math.abs(t)}));return tui.util.map(t,function(t){return 0===e?0:s*(t/e)})})},_makePercentDivergentStackedPercentValues:function(t){return tui.util.map(t,function(t){var e=r.sumPlusValues(t),i=Math.abs(r.sumMinusValues(t));return tui.util.map(t,function(t){var n=t>=0?e:i;return 0===n?0:.5*(t/n)})})},_makePercentValues:function(t,e,i){var n,s=e.min,r=e.max,o=r-s,a=1,u=0;return!i&&0>s&&0>=r?(a=-1,u=r,o=s-r):(i||s>=0)&&(u=s),n=tui.util.map(t,function(t){return tui.util.map(t,function(t){return(t-u)*a/o})})},registerPieChartPercentValues:function(t){var e=this.getGroupValues(t);this.data.percentValues[t]=this._makePieChartPercentValues(e)},registerPercentValues:function(t,e,i){var s,r=this.getGroupValues(i),o=n.isAllowedStackedOption(i),a=n.isLineTypeChart(i);s=o&&n.isNormalStacked(e)?this._makeNormalStackedPercentValues(r,t):o&&n.isPercentStacked(e)?this.divergingOption?this._makePercentDivergentStackedPercentValues(r):this._makePercentStackedPercentValues(r):this._makePercentValues(r,t,a),this.data.percentValues[i]=a?tui.util.pivot(s):s},getPercentValues:function(t){return this.data.percentValues[t]}});e.exports=a},{"./calculator":35,"./predicate":41,"./renderUtil":42}],38:[function(t,e,i){"use strict";var n=Array.prototype.slice,s={create:function(t,e){var i=document.createElement(t);return e&&this.addClass(i,e),i},_getClassNames:function(t){var e,i;return t.classList?i=n.call(t.classList):(e=t.className||"",i=e&&tui.util.isString(e)?e.split(" "):[]),i},addClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);n>-1||(i.push(e),t.className=i.join(" "))},removeClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);-1!==n&&(i.splice(n,1),t.className=i.join(" "))},hasClass:function(t,e){var i=this._getClassNames(t),n=tui.util.inArray(e,i);return n>-1},findParentByClass:function(t,e,i){var n,s=t.parentNode;return n=s?this.hasClass(s,e)?s:"BODY"===s.nodeName||this.hasClass(s,i)?null:this.findParentByClass(s,e,i):null},append:function(t,e){t&&e&&(e=tui.util.isArray(e)?e:[e],tui.util.forEachArray(e,function(e){e&&t.appendChild(e)},this))}};e.exports=s},{}],39:[function(t,e,i){"use strict";var n={_attachEvent:function(t,e,i){e.attachEvent("on"+t,i)},_addEventListener:function(t,e,i){try{e.addEventListener(t,i)}catch(n){throw n}},bindEvent:function(t,e,i){var n;"addEventListener"in e?n=this._addEventListener:"attachEvent"in e&&(n=this._attachEvent),this.bindEvent=n,n(t,e,i)}};e.exports=n},{}],40:[function(t,e,i){"use strict";var n=t("./dataProcessor"),s=t("./renderUtil"),r=tui.util.defineClass(n,{process:function(t,e){var i=t.series,n=this._makeValueMap(i,e);this.data={valueMap:n}},_makeValueMap:function(t,e){var i={},n=e.chart&&e.chart.format||"",r=this._findFormatFunctions(n);return tui.util.forEachArray(t,function(t){var e={value:t.data,formattedValue:s.formatValue(t.data,r)};t.name&&(e.name=t.name),t.labelCoordinate&&(e.labelCoordinate=t.labelCoordinate),i[t.code]=e}),i},getValueMap:function(){return this.data.valueMap},getValues:function(){return tui.util.pluck(this.data.valueMap,"value")},getValueMapDatum:function(t){return this.data.valueMap[t]},registerPercentValues:function(t){var e=t.min,i=t.max-e;tui.util.forEach(this.getValueMap(),function(t){t.percentValue=(t.value-e)/i},this)}});e.exports=r},{"./dataProcessor":37,"./renderUtil":42}],41:[function(t,e,i){"use strict";var n=t("../const"),s={isBarChart:function(t){return t===n.CHART_TYPE_BAR},isColumnChart:function(t){return t===n.CHART_TYPE_COLUMN},isBarTypeChart:function(t){return this.isBarChart(t)||this.isColumnChart(t)},isComboChart:function(t){return t===n.CHART_TYPE_COMBO},isLineChart:function(t){return t===n.CHART_TYPE_LINE},isAreaChart:function(t){return t===n.CHART_TYPE_AREA},isLineTypeChart:function(t){return this.isLineChart(t)||this.isAreaChart(t)},isPieChart:function(t){return t===n.CHART_TYPE_PIE},isMapChart:function(t){return t===n.CHART_TYPE_MAP},isMousePositionChart:function(t){return this.isPieChart(t)||this.isMapChart(t)},isOuterLegendAlign:function(t){return t===n.LEGEND_ALIGN_OUTER},isCenterLegendAlign:function(t){return t===n.LEGEND_ALIGN_CENTER},isLeftLegendAlign:function(t){return t===n.LEGEND_ALIGN_LEFT},isTopLegendAlign:function(t){return t===n.LEGEND_ALIGN_TOP},isBottomLegendAlign:function(t){return t===n.LEGEND_ALIGN_BOTTOM},isHorizontalLegend:function(t){return this.isTopLegendAlign(t)||this.isBottomLegendAlign(t)},isPieLegendAlign:function(t){var e=!1;return t&&(e=this.isOuterLegendAlign(t)||this.isCenterLegendAlign(t)),e},isAllowedStackedOption:function(t){return this.isBarChart(t)||this.isColumnChart(t)||this.isAreaChart(t)},isNormalStacked:function(t){return t===n.STACKED_NORMAL_TYPE},isPercentStacked:function(t){return t===n.STACKED_PERCENT_TYPE},isValidStackedOption:function(t){return t&&(this.isNormalStacked(t)||this.isPercentStacked(t))}};e.exports=s},{"../const":19}],42:[function(t,e,i){"use strict";var n=t("./domHandler"),s=t("./../const"),r=tui.util.browser,o=r.msie&&7===r.version,a=r.msie&&r.version<=8,u={concatStr:function(){return String.prototype.concat.apply("",arguments)},makeFontCssText:function(t){var e=[];return t?(t.fontSize&&e.push(this.concatStr("font-size:",t.fontSize,"px")),t.fontFamily&&e.push(this.concatStr("font-family:",t.fontFamily)),t.color&&e.push(this.concatStr("color:",t.color)),e.join(";")):""},checkEl:null,_createSizeCheckEl:function(){var t,e;return this.checkEl?this.checkEl.style.cssText="":(t=n.create("DIV","tui-chart-size-check-element"),e=n.create("SPAN"),t.appendChild(e),this.checkEl=t),this.checkEl},_makeCachingKey:function(t,e,i){var n=[t,i];return tui.util.forEach(e,function(t,e){n.push(t+e)}),n.join("-")},sizeCache:{},_addCssStyle:function(t,e){t.style.fontSize=(e.fontSize||s.DEFAULT_LABEL_FONT_SIZE)+"px",e.fontFamily&&(t.style.fontFamily=e.fontFamily),e.cssText&&(t.style.cssText+=e.cssText)},_getRenderedLabelSize:function(t,e,i){var n,s,r,o;return e=e||{},(t+="")?(n=this._makeCachingKey(t,e,i),o=this.sizeCache[n],o||(s=this._createSizeCheckEl(),r=s.firstChild,r.innerHTML=t,this._addCssStyle(s,e),document.body.appendChild(s),o=r[i],document.body.removeChild(s),this.sizeCache[n]=o),o):0},getRenderedLabelWidth:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetWidth");return i},getRenderedLabelHeight:function(t,e){var i=this._getRenderedLabelSize(t,e,"offsetHeight");return i},_getRenderedLabelsMaxSize:function(t,e,i){var n=tui.util.map(t,function(t){return i(t,e)},this),s=tui.util.max(n);return s},getRenderedLabelsMaxWidth:function(t,e){var i=tui.util.bind(this.getRenderedLabelWidth,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},getRenderedLabelsMaxHeight:function(t,e){var i=tui.util.bind(this.getRenderedLabelHeight,this),n=this._getRenderedLabelsMaxSize(t,e,i);return n},renderDimension:function(t,e){t.style.cssText=[this.concatStr("width:",e.width,"px"),this.concatStr("height:",e.height,"px")].join(";")},renderPosition:function(t,e){tui.util.isUndefined(e)||(tui.util.isUndefined(e.top)||(t.style.top=e.top+"px"),tui.util.isUndefined(e.left)||(t.style.left=e.left+"px"),tui.util.isUndefined(e.right)||(t.style.right=e.right+"px"))},renderBackground:function(t,e){e&&(t.style.background=e)},renderFontFamily:function(t,e){e&&(t.style.fontFamily=e)},renderTitle:function(t,e,i){var s,r;return t?(s=n.create("DIV",i),s.innerHTML=t,r=u.makeFontCssText(e),e.background&&(r+=";"+this.concatStr("background:",e.background)),s.style.cssText=r,s):null},expandBound:function(t){var e=t.dimension,i=t.position;return{dimension:{width:e.width+2*s.SERIES_EXPAND_SIZE,height:e.height+2*s.SERIES_EXPAND_SIZE},position:{left:i.left-s.SERIES_EXPAND_SIZE,top:i.top-s.SERIES_EXPAND_SIZE}}},makeCustomEventName:function(t,e,i){return t+tui.util.properCase(e)+tui.util.properCase(i)},formatValue:function(t,e){var i=[t].concat(e||[]);return tui.util.reduce(i,function(t,e){return e(t)})},cancelAnimation:function(t){t&&t.id&&(cancelAnimationFrame(t.id),delete t.id)},startAnimation:function(t,e){function i(){var r=(new Date).getTime()-n,o=Math.min(r/t,1);e(o),1===o?delete s.id:s.id=requestAnimationFrame(i)}var n,s={};return n=(new Date).getTime(),s.id=requestAnimationFrame(i),s},isIE7:function(){return o},isOldBrowser:function(){return a}};tui.util.defineNamespace("tui.chart"),tui.chart.renderUtil=u,e.exports=u},{"./../const":19,"./domHandler":38}],43:[function(t,e,i){"use strict";e.exports={template:function(t){return function(e){var i=t;return tui.util.forEach(e,function(t,e){var n=new RegExp("{{\\s*"+e+"\\s*}}","g");i=i.replace(n,t)}),i}}}},{}],44:[function(t,e,i){"use strict";var n=tui.util.defineClass({register:function(t,e){this.on(t,e)}});tui.util.CustomEvents.mixin(n),e.exports=n},{}],45:[function(t,e,i){"use strict";var n=t("./legendModel"),s=t("./legendDimensionModel"),r=t("../const"),o=t("../helpers/domHandler"),a=t("../helpers/predicate"),u=t("../helpers/eventListener"),l=t("../helpers/renderUtil"),h=t("./../legends/legendTemplate"),c=tui.util.defineClass({init:function(t){var e;this.theme=t.theme,this.options=t.options||{},this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.userEvent=t.userEvent,this.className="tui-chart-legend-area",this.checkedIndexes=[],this.boundsMaker=t.boundsMaker,e=t.dataProcessor.getWholeLegendData(),this.legendModel=new n({theme:this.theme,labels:t.dataProcessor.getLegendLabels(),legendData:e,chartTypes:this.chartTypes,chartType:this.chartType}),this.dimensionModel=new s({legendLabels:tui.util.pluck(e,"label"),chartType:this.chartType,options:this.options,theme:this.theme})},registerDimension:function(){var t=this.boundsMaker.getDimension("chart").width;this.boundsMaker.registerBaseDimension("legend",this.dimensionModel.makeDimension(t))},_renderLegendArea:function(t){t.innerHTML=this._makeLegendHtml(this.legendModel.getData()),l.renderPosition(t,this.boundsMaker.getPosition("legend")),t.style.cssText+=";"+l.makeFontCssText(this.theme.label)},render:function(){var t=o.create("DIV",this.className);return this.legendContainer=t,a.isHorizontalLegend(this.options.align)&&o.addClass(t,"horizontal"),this._renderLegendArea(t),this._attachEvent(t),t},resize:function(){this._renderLegendArea(this.legendContainer)},_makeLegendRectCssText:function(t,e){var i,n,s=t.theme,o=s.borderColor?l.concatStr(";border:1px solid ",s.borderColor):"";return n="line"===t.chartType?e+r.LINE_MARGIN_TOP:e,i=l.concatStr(";margin-top:",n,"px"),l.concatStr("background-color:",s.singleColor||s.color,o,i)},_makeLabelsWidth:function(t){return tui.util.map(t,function(t){var e=l.getRenderedLabelWidth(t.label,this.theme.label);return e+r.LEGEND_AREA_PADDING},this)},_makeLegendHtml:function(t){var e=h.tplLegend,i=h.tplCheckbox,n=this._makeLabelsWidth(t),s=l.getRenderedLabelHeight(t[0].label,t[0].theme),o=a.isHorizontalLegend(this.options.align),u=s+2*r.LABEL_PADDING_TOP,c=parseInt((u-r.LEGEND_RECT_WIDTH)/2,10)-1,d=tui.util.map(t,function(t,r){var a,l=this._makeLegendRectCssText(t,c),h=this.options.hasCheckbox===!1?"":i({index:r,checked:this.legendModel.isCheckedIndex(r)?" checked":""});return a={rectCssText:l,height:u,labelHeight:s,unselected:this.legendModel.isUnselectedIndex(r)?" unselected":"",labelWidth:o?";width:"+n[r]+"px":"",iconType:t.chartType||"rect",label:t.label,checkbox:h,index:r},e(a)},this).join("");return d},_findLegendLabelElement:function(t){var e;return e=o.hasClass(t,r.CLASS_NAME_LEGEND_LABEL)?t:o.findParentByClass(t,r.CLASS_NAME_LEGEND_LABEL)},_fireLegendCheckboxEvent:function(){this.fire("changeCheckedLegends",this.legendModel.getCheckedIndexes())},_fireLegendSelectionEvent:function(t){var e=this.chartTypes||[t.chartType],i=this.legendModel.getSelectedIndex(),n=tui.util.isNull(i)?i:t.seriesIndex;tui.util.forEachArray(e,function(e){this.fire(l.makeCustomEventName("select",e,"legend"),t.chartType,n)},this)},_fireUserEvent:function(t){this.userEvent.fire("selectLegend",{legend:t.label,chartType:t.chartType,index:t.index})},_selectLegend:function(t){var e=this.legendModel.getDatum(t);this.legendModel.toggleSelectedIndex(t),tui.util.isNull(this.legendModel.getSelectedIndex())||this.legendModel.isCheckedSelectedIndex()||(this.legendModel.checkSelectedIndex(),this._fireLegendCheckboxEvent()),this._renderLegendArea(this.legendContainer),this._fireLegendSelectionEvent(e),this._fireUserEvent(e)},_getCheckedIndexes:function(){var t=[];return tui.util.forEachArray(this.legendContainer.getElementsByTagName("input"),function(e,i){e.checked&&t.push(i)}),t},_checkLegend:function(){var t,e=this._getCheckedIndexes(),i=e.length;a.isPieChart(this.chartType)&&1===i||0===i?this._renderLegendArea(this.legendContainer):(this.legendModel.updateCheckedData(e),t=this.legendModel.getSelectedDatum(),this.legendModel.isCheckedSelectedIndex()||this.legendModel.updateSelectedIndex(null),this._renderLegendArea(this.legendContainer),this._fireLegendCheckboxEvent(),t&&this._fireLegendSelectionEvent(t,!0))},_onClick:function(t){var e,i,n=t.target||t.srcElement;return o.hasClass(n,r.CLASS_NAME_LEGEND_CHECKBOX)?void this._checkLegend():(e=this._findLegendLabelElement(n),void(e&&(i=parseInt(e.getAttribute("data-index"),10),this._selectLegend(i))))},_attachEvent:function(t){u.bindEvent("click",t,tui.util.bind(this._onClick,this))}});tui.util.CustomEvents.mixin(c),e.exports=c},{"../const":19,"../helpers/domHandler":38,"../helpers/eventListener":39,"../helpers/predicate":41,"../helpers/renderUtil":42,"./../legends/legendTemplate":48,"./legendDimensionModel":46,"./legendModel":47}],46:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),r=t("../helpers/renderUtil"),o=tui.util.defineClass({init:function(t){this.chartType=t.chartType,this.options=t.options,this.theme=t.theme,this.legendLabels=t.legendLabels,this.legendCheckboxWidth=this.options.hasCheckbox===!1?0:n.LEGEND_CHECKBOX_WIDTH},_makeLegendWidth:function(t){return t+this.legendCheckboxWidth+n.LEGEND_RECT_WIDTH+n.LEGEND_LABEL_LEFT_PADDING+n.LEGEND_AREA_PADDING},_calculateLegendsWidthSum:function(t,e){return tui.util.sum(tui.util.map(t,function(t){var i=this._makeLegendWidth(r.getRenderedLabelWidth(t,e));return i},this))},_divideLegendLabels:function(t,e){var i=Math.round(t.length/e),n=[],s=[];return tui.util.forEachArray(t,function(t){s.length<i?s.push(t):(n.push(s),s=[t])}),s.length&&n.push(s),n},_makeDividedLabelsAndMaxLineWidth:function(t,e,i){var n,s,r,o=1,a=0,u=0;do{if(n=this._divideLegendLabels(t,o),s=tui.util.map(n,function(t){return this._calculateLegendsWidthSum(t,i)},this),a=Math.max.apply(null,s),u===a){n=r;break}u=a,r=n,o+=1}while(a>=e);return{dividedLabels:n,maxLineWidth:a}},_calculateHorizontalLegendHeight:function(t,e){return tui.util.sum(tui.util.map(t,function(t){return r.getRenderedLabelsMaxHeight(t,e)},this));
},_makeHorizontalDimension:function(t){var e=this._makeDividedLabelsAndMaxLineWidth(this.legendLabels,t,this.theme.label),i=this._calculateHorizontalLegendHeight(e.dividedLabels,this.theme.label)+2*n.LEGEND_AREA_PADDING;return{width:e.maxLineWidth,height:i}},_makeVerticalDimension:function(){var t=r.getRenderedLabelsMaxWidth(this.legendLabels,this.theme.label),e=this._makeLegendWidth(t);return{width:e,height:0}},_isSkipLegend:function(){return s.isPieChart(this.chartType)&&s.isPieLegendAlign(this.options.align)||this.options.hidden},makeDimension:function(t){var e={};return this._isSkipLegend()?e.width=0:e=s.isHorizontalLegend(this.options.align)?this._makeHorizontalDimension(t):this._makeVerticalDimension(),e}});e.exports=o},{"../const":19,"../helpers/predicate":41,"../helpers/renderUtil":42}],47:[function(t,e,i){"use strict";var n=t("../themes/defaultTheme"),s=Array.prototype.concat,r=tui.util.defineClass({init:function(t){this.theme=t.theme,this.labels=t.labels,this.legendData=t.legendData,this.chartTypes=t.chartTypes,this.chartType=t.chartType,this.data=null,this.selectedIndex=null,this.checkedIndexesMap={},this.checkedWholeIndexes=[],this._initCheckedIndexes(),this._setData()},_initCheckedIndexes:function(){var t=[];tui.util.forEachArray(this.legendData,function(e,i){t[i]=!0},this),this.checkedWholeIndexes=t},_makeLabelInfoAppliedTheme:function(t,e,i){var n=0;return tui.util.map(t,function(t,s){var r={color:e.colors[s]};return e.singleColors&&(r.singleColor=e.singleColors[s]),e.borderColor&&(r.borderColor=e.borderColor),t.theme=r,t.index=s,i&&tui.util.isUndefined(i[s])?t.seriesIndex=-1:(t.seriesIndex=n,n+=1),t},this)},_setData:function(){var t,e,i,r,o=this.legendData;this.chartTypes?(i=0,r=0,e={colors:n.series.colors},t=s.apply([],tui.util.map(this.chartTypes,function(t){var n,s,a=this.theme[t],u=this.labels[t].length,l=i+u;return a||(n=r+u,a=JSON.parse(JSON.stringify(e)),a.colors=a.colors.slice(r,n),r=n),s=this._makeLabelInfoAppliedTheme(o.slice(i,l),a,this.checkedIndexesMap[t]),i=l,s},this))):t=this._makeLabelInfoAppliedTheme(o,this.theme,this.checkedIndexesMap[this.chartType]),this.data=t},getData:function(){return this.data},getDatum:function(t){return this.data[t]},getSelectedDatum:function(){return this.getDatum(this.selectedIndex)},updateSelectedIndex:function(t){this.selectedIndex=t},toggleSelectedIndex:function(t){var e;e=this.selectedIndex===t?null:t,this.updateSelectedIndex(e)},getSelectedIndex:function(){return this.selectedIndex},isUnselectedIndex:function(t){return!tui.util.isNull(this.selectedIndex)&&this.selectedIndex!==t},isCheckedSelectedIndex:function(){return this.isCheckedIndex(this.selectedIndex)},_updateCheckedIndex:function(t){this.checkedWholeIndexes[t]=!0},isCheckedIndex:function(t){return!!this.checkedWholeIndexes[t]},_addSendingDatum:function(t){var e=this.getDatum(t);this.checkedIndexesMap[e.chartType]||(this.checkedIndexesMap[e.chartType]=[]),this.checkedIndexesMap[e.chartType][e.index]=!0},checkSelectedIndex:function(){this._updateCheckedIndex(this.selectedIndex),this._addSendingDatum(this.selectedIndex),this._setData()},getCheckedIndexes:function(){return this.checkedIndexesMap[this.chartType]||this.checkedIndexesMap},_resetCheckedData:function(){this.checkedWholeIndexes=[],this.checkedIndexesMap={}},updateCheckedData:function(t){this._resetCheckedData(),tui.util.forEachArray(t,function(t){this._updateCheckedIndex(t),this._addSendingDatum(t)},this),this._setData()}});e.exports=r},{"../themes/defaultTheme":75}],48:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_CHECKBOX:'<div class="tui-chart-legend-checkbox-area"><input class="tui-chart-legend-checkbox" type="checkbox" value="{{ index }}"{{ checked }} /></div>',HTML_LEGEND:'<div class="tui-chart-legend{{ unselected }}" style="height:{{ height }}px">{{ checkbox }}<div class="tui-chart-legend-rect {{ iconType }}" style="{{ rectCssText }}"></div><div class="tui-chart-legend-label" style="height:{{ labelHeight }}px{{ labelWidth }}" data-index="{{ index }}">{{ label }}</div></div>',HTML_TICK:'<div class="tui-chart-map-legend-tick" style="{{ position }}"></div><div class="tui-chart-map-legend-tick-label" style="{{ labelPosition }}">{{ label }}</div>'};e.exports={tplCheckbox:n.template(s.HTML_CHECKBOX),tplLegend:n.template(s.HTML_LEGEND),tplTick:n.template(s.HTML_TICK)}},{"../helpers/templateMaker":43}],49:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),a=t("../factories/pluginFactory"),u=t("./../legends/legendTemplate"),l=tui.util.defineClass({init:function(t){var e=t.libType||n.DEFAULT_PLUGIN;this.className="tui-chart-legend-area",this.theme=t.theme,this.options=t.options||{},this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.graphRenderer=a.get(e,"mapLegend"),this.isHorizontal=s.isHorizontalLegend(this.options.align)},_makeVerticalDimension:function(){var t=Math.max.apply(null,this.dataProcessor.getValues()),e=this.dataProcessor.getFormatFunctions(),i=o.formatValue(t,e),s=o.getRenderedLabelWidth(i,this.theme.label),r=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_GRAPH_SIZE+s+r,height:n.MAP_LEGEND_SIZE}},_makeHorizontalDimension:function(){var t=Math.max.apply(null,this.dataProcessor.getValues()),e=o.getRenderedLabelHeight(t,this.theme.label),i=n.LEGEND_AREA_PADDING+n.MAP_LEGEND_LABEL_PADDING;return{width:n.MAP_LEGEND_SIZE,height:n.MAP_LEGEND_GRAPH_SIZE+e+i}},registerDimension:function(){var t;t=this.isHorizontal?this._makeHorizontalDimension():this._makeVerticalDimension(),this.boundsMaker.registerBaseDimension("legend",t)},_makeBaseDataToMakeTickHtml:function(){var t=this.boundsMaker.getDimension("legend"),e=this.axesData.tickCount-1,i={};return this.isHorizontal?(i.startPositionValue=5,i.step=t.width/e,i.positionType="left:"):(i.startPositionValue=0,i.step=t.height/e,i.positionType="top:",i.labelSize=parseInt(o.getRenderedLabelHeight(this.axesData.labels[0],this.theme.label)/2,10)-1),i},_makeTickHtml:function(){var t,e=this._makeBaseDataToMakeTickHtml(),i=e.startPositionValue;return t=tui.util.map(this.axesData.labels,function(t){var n,s;return n=this.isHorizontal?parseInt(o.getRenderedLabelWidth(t,this.theme.label)/2,10):e.labelSize,s=u.tplTick({position:e.positionType+i+"px",labelPosition:e.positionType+(i-n)+"px",label:t}),i+=e.step,s},this),t.join("")},_renderTickArea:function(){var t=r.create("div","tui-chart-legend-tick-area");return t.innerHTML=this._makeTickHtml(),this.isHorizontal&&r.addClass(t,"horizontal"),t},_makeVerticalGraphDimension:function(){return{width:n.MAP_LEGEND_GRAPH_SIZE,height:this.boundsMaker.getDimension("legend").height}},_makeHorizontalGraphDimension:function(){return{width:this.boundsMaker.getDimension("legend").width+10,height:n.MAP_LEGEND_GRAPH_SIZE}},_renderGraph:function(t){var e;e=this.isHorizontal?this._makeHorizontalGraphDimension():this._makeVerticalGraphDimension(),this.graphRenderer.render(t,e,this.colorModel,this.isHorizontal)},_renderLegendArea:function(t){var e;t.innerHTML="",o.renderPosition(t,this.boundsMaker.getPosition("legend")),this._renderGraph(t),e=this._renderTickArea(),t.appendChild(e),t.style.cssText+=";"+o.makeFontCssText(this.theme.label)},render:function(t){var e=r.create("DIV",this.className);return this.legendContainer=e,this.colorModel=t.colorModel,this.axesData=t.axesData,this._renderLegendArea(e),e},resize:function(){this._renderLegendArea(this.legendContainer)},onShowWedge:function(t){this.graphRenderer.showWedge(n.MAP_LEGEND_SIZE*t)},onHideWedge:function(){this.graphRenderer.hideWedge()}});tui.util.CustomEvents.mixin(l),e.exports=l},{"../const":19,"../factories/pluginFactory":31,"../helpers/domHandler":38,"../helpers/predicate":41,"../helpers/renderUtil":42,"./../legends/legendTemplate":48}],50:[function(t,e,i){"use strict";var n=t("../helpers/domHandler"),s=t("../helpers/calculator"),r=t("../helpers/renderUtil"),o=t("./plotTemplate"),a=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-plot-area"},_renderPlotArea:function(t,e){var i=this.boundsMaker.getDimension("plot");this.data=e,r.renderDimension(t,i),r.renderPosition(t,this.boundsMaker.getPosition("plot")),this._renderLines(t,i)},render:function(t){var e=n.create("DIV",this.className);return this._renderPlotArea(e,t),this.plotContainer=e,e},rerender:function(t){this.plotContainer.innerHTML="",this._renderPlotArea(this.plotContainer,t)},resize:function(t){this.rerender(t)},_renderLines:function(t,e){var i=this._makeHorizontalPixelPositions(e.width),n=this._makeVerticalPixelPositions(e.height),s=this.theme,o="";o+=this._makeLineHtml({positions:i,size:e.height,className:"vertical",positionType:"left",sizeType:"height",lineColor:s.lineColor}),o+=this._makeLineHtml({positions:n,size:e.width,className:"horizontal",positionType:"bottom",sizeType:"width",lineColor:s.lineColor}),t.innerHTML=o,r.renderBackground(t,s.background)},_makeLineHtml:function(t){var e=o.tplPlotLine,i=tui.util.map(t.positions,function(i){var n,s=[r.concatStr(t.positionType,":",i,"px"),r.concatStr(t.sizeType,":",t.size,"px")];return t.lineColor&&s.push(r.concatStr("background-color:",t.lineColor)),n={className:t.className,cssText:s.join(";")},e(n)},this).join("");return i},_makeVerticalPixelPositions:function(t){var e=s.makeTickPixelPositions(t,this.data.vTickCount);return e.shift(),e},_makeHorizontalPixelPositions:function(t){var e=s.makeTickPixelPositions(t,this.data.hTickCount);return e.shift(),e}});e.exports=a},{"../helpers/calculator":35,"../helpers/domHandler":38,"../helpers/renderUtil":42,"./plotTemplate":51}],51:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_PLOT_LINE:'<div class="tui-chart-plot-line {{ className }}" style="{{ cssText }}"></div>'};e.exports={tplPlotLine:n.template(s.HTML_PLOT_LINE)}},{"../helpers/templateMaker":43}],52:[function(t,e,i){"use strict";var n,s=t("./raphaelBarChart"),r=t("./raphaelLineChart"),o=t("./raphaelAreaChart"),a=t("./raphaelPieChart"),u=t("./raphaelMapChart"),l=t("./raphaelMapLegend"),h="raphael";n={bar:s,column:s,line:r,area:o,pie:a,map:u,mapLegend:l},tui.chart.registerPlugin(h,n)},{"./raphaelAreaChart":53,"./raphaelBarChart":54,"./raphaelLineChart":55,"./raphaelMapChart":57,"./raphaelMapLegend":58,"./raphaelPieChart":59}],53:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),r=window.Raphael,o=1,a=.3,u=Array.prototype.concat,l=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,o=e.theme,a=o.colors,u=e.options.hasDot?1:0,l=this.makeBorderStyle(o.borderColor,u),h=this.makeOutDotStyle(u,l);return this.paper=i=r(t,1,n.height),this.stackedOption=e.options.stacked,this.spline=e.options.spline,this.dimension=n,this.zeroTop=e.zeroTop,this.groupPaths=e.options.spline?this._getSplineAreasPath(s):this._getAreasPath(s),this.groupAreas=this._renderAreas(i,this.groupPaths,a),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,a,u),e.options.hasSelection&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=o.selectionColor),this.outDotStyle=h,this.groupPositions=s,this.dotOpacity=u,delete this.pivotGroupDots,i},_renderAreas:function(t,e,i){var n;return i=i.slice(0,e.length),i.reverse(),e.reverse(),n=tui.util.map(e,function(e,n){var r=i[n]||"transparent",o=r;return{area:s.renderArea(t,e.area.join(" "),r,.5,r),line:s.renderLine(t,e.line.join(" "),o)}},this),n.reverse()},_makeHeight:function(t,e){return Math.abs(t-e)},_makeAreasPath:function(t){var e=2*t.length,i=[];return tui.util.forEachArray(t,function(t,n){i[n]=["L",t.left,t.top],i[e-n-1]=["L",t.left,t.startTop]}),i=u.apply([],i),i[0]="M",i},_getAreasPath:function(t){return tui.util.map(t,function(t){return t[0].left-=1,{area:this._makeAreasPath(t),line:this._makeLinesPath(t)}},this)},_makeSplineAreaBottomPath:function(t){return tui.util.map(t,function(t){return["L",t.left,this.zeroTop]},this).reverse()},_getSplineAreasPath:function(t){return tui.util.map(t,function(t){var e,i;return t[0].left-=1,e=this._makeSplineLinesPath(t),i=this._makeSplineAreaBottomPath(t),{area:e.concat(i),line:e}},this)},resize:function(t){var e=t.dimension,i=t.groupPositions;this.groupPositions=i,this.groupPaths=this.spline?this._getSplineAreasPath(i):this._getAreasPath(i),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),tui.util.forEachArray(this.groupPaths,function(t,e){var n=this.groupAreas[e];n.area.attr({path:t.area.join(" ")}),n.line.attr({path:t.line.join(" ")}),tui.util.forEachArray(this.groupDots[e],function(t,n){this._moveDot(t.dot,i[e][n])},this)},this)},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var r=this.groupAreas[s],u=i||t===s?o:a;r.area.attr({"fill-opacity":u}),r.line.attr({"stroke-opacity":u}),tui.util.forEachArray(this.groupDots[s],function(t){e.dotOpacity&&t.dot.attr({"fill-opacity":u})})},this)}});e.exports=l},{"./raphaelLineTypeBase":56,"./raphaelRenderUtil":60}],54:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,r=700,o=1,a=.3,u=tui.util.defineClass({render:function(t,e){var i,n,r=e.groupBounds,o=e.dimension;return r?(this.paper=i=s(t,o.width,o.height),n={theme:e.theme,groupBounds:r,groupValues:e.groupValues,chartType:e.chartType},this.groupBars=this._renderBars(n),this.groupBorders=this._renderBarBorders(n),this.overlay=this._renderOverlay(),this.theme=e.theme,this.groupBounds=r,this.chartType=e.chartType,i):null},_renderOverlay:function(){var t=this._renderBar({bound:{width:1,height:1,left:0,top:0},color:"#fff"}).attr({"fill-opacity":0});return t},_renderBar:function(t){var e,i=t.bound;return i.width<0||i.height<0?null:(e=this.paper.rect(i.left,i.top,i.width,i.height),e.attr({fill:t.color,stroke:"none"}),e)},_renderBars:function(t){var e,i=1===t.groupBounds[0].length&&t.theme.singleColors||[],n=t.theme.colors;return e=tui.util.map(t.groupBounds,function(e,s){var r=i[s];return tui.util.map(e,function(e,i){var o,a,u;return e?(o=r||n[i],u=t.groupValues[s][i],a=this._renderBar({chartType:t.chartType,color:o,borderColor:t.theme.borderColor,bound:e.start,value:u}),{rect:a,color:o,bound:e.end,value:u,groupIndex:s,index:i}):null},this)},this)},_makeRectPoints:function(t){return{leftTop:{left:Math.ceil(t.left),top:Math.ceil(t.top)},rightTop:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top)},rightBottom:{left:Math.ceil(t.left+t.width),top:Math.ceil(t.top+t.height)},leftBottom:{left:Math.ceil(t.left),top:Math.ceil(t.top+t.height)}}},_makeTopLinePath:function(t,e,i,s){var r=tui.util.extend({},t);return r.left-="column"===i||0>s?1:0,n.makeLinePath(r,e).join(" ")},_makeBorderLinesPaths:function(t,e,i){var s=this._makeRectPoints(t),r={};return("bar"===e||i>=0)&&(r.top=this._makeTopLinePath(s.leftTop,s.rightTop,e,i)),("column"===e||i>=0)&&(r.right=n.makeLinePath(s.rightTop,s.rightBottom).join(" ")),("bar"===e||0>i)&&(r.bottom=n.makeLinePath(s.leftBottom,s.rightBottom).join(" ")),("column"===e||0>i)&&(r.left=n.makeLinePath(s.leftTop,s.leftBottom).join(" ")),r},_renderBorderLines:function(t){var e=this._makeBorderLinesPaths(t.bound,t.chartType,t.value),i={};return tui.util.forEach(e,function(e,s){i[s]=n.renderLine(this.paper,e,t.borderColor,1)},this),i},_renderBarBorders:function(t){var e,i=t.theme.borderColor;return i?e=tui.util.map(t.groupBounds,function(e,n){return tui.util.map(e,function(e,s){var r;return e?(r=t.groupValues[n][s],this._renderBorderLines({paper:this.paper,bound:e.start,borderColor:i,chartType:t.chartType,value:r})):null},this)},this):null},_animateRect:function(t,e){t.animate({x:e.left,y:e.top,width:e.width,height:e.height},r)},_animateBorders:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.animate({path:s[e]},r)})},animate:function(t){var e=this,i=this.groupBorders||[];this.callbackTimeout&&(clearTimeout(this.callbackTimeout),delete this.callbackTimeout),n.forEach2dArray(this.groupBars,function(t,n,s){var r=i[n]&&i[n][s];t&&(e._animateRect(t.rect,t.bound),r&&e._animateBorders(r,t.bound,e.chartType,t.value))}),t&&(this.callbackTimeout=setTimeout(function(){t(),delete e.callbackTimeout},r))},showAnimation:function(t){var e=this.groupBars[t.groupIndex][t.index],i=e.bound;this.overlay.attr({width:i.width,height:i.height,x:i.left,y:i.top,"fill-opacity":.3})},hideAnimation:function(){this.overlay.attr({width:1,height:1,x:0,y:0,"fill-opacity":0})},_updateRectBound:function(t,e){t.attr({x:e.left,y:e.top,width:e.width,height:e.height})},_updateBordersPath:function(t,e,i,n){var s=this._makeBorderLinesPaths(e,i,n);tui.util.forEach(t,function(t,e){t.attr({path:s[e]})})},resize:function(t){var e=this,i=this.groupBorders||[],s=t.dimension,r=t.groupBounds;this.groupBounds=r,this.paper.setSize(s.width,s.height),n.forEach2dArray(this.groupBars,function(t,n,s){var o,a;t&&(o=i[n]&&i[n][s],a=r[n][s].end,t.bound=a,e._updateRectBound(t.rect,a),o&&e._updateBordersPath(o,a,e.chartType,t.value))})},_changeBordersColor:function(t,e){tui.util.forEach(t,function(t){t.attr({stroke:e})})},_changeBarColor:function(t,e,i){var n,s=this.groupBars[t.groupIndex][t.index];s.rect.attr({fill:e}),i&&(n=this.groupBorders[t.groupIndex][t.index],this._changeBordersColor(n,i))},selectSeries:function(t){var e,i=this.groupBars[t.groupIndex][t.index],r=s.color(i.color),o=this.theme.selectionColor||n.makeChangedLuminanceColor(r.hex,.2),a=this.theme.borderColor;a&&(e=s.color(a),a=n.makeChangedLuminanceColor(e.hex,.2)),this._changeBarColor(t,o,a)},unselectSeries:function(t){var e=this.groupBars[t.groupIndex][t.index],i=this.theme.borderColor;this._changeBarColor(t,e.color,i)},selectLegend:function(t){var e=this.groupBorders||[],i=tui.util.isNull(t);n.forEach2dArray(this.groupBars,function(n,s,r){var u,l;n&&(u=e[s]&&e[s][r],l=i||t===r?o:a,n.rect.attr({"fill-opacity":l}),u&&tui.util.forEach(u,function(t){t.attr({"stroke-opacity":l})}))})}});e.exports=u},{"./raphaelRenderUtil":60}],55:[function(t,e,i){"use strict";var n=t("./raphaelLineTypeBase"),s=t("./raphaelRenderUtil"),r=window.Raphael,o=1,a=.3,u=tui.util.defineClass(n,{init:function(){this.selectedLegendIndex=null},render:function(t,e){var i,n=e.dimension,s=e.groupPositions,o=e.theme,a=o.colors,u=e.options.hasDot?1:0,l=e.options.spline?this._getSplineLinesPath(s):this._getLinesPath(s),h=this.makeBorderStyle(o.borderColor,u),c=this.makeOutDotStyle(u,h);return this.paper=i=r(t,1,n.height),this.splineOption=e.options.spline,this.dimension=n,this.groupLines=this._renderLines(i,l,a),this.tooltipLine=this._renderTooltipLine(i,n.height),this.groupDots=this._renderDots(i,s,a,u),e.options.hasSelection&&(this.selectionDot=this._makeSelectionDot(i),this.selectionColor=o.selectionColor),this.colors=a,this.borderStyle=h,this.outDotStyle=c,this.groupPositions=s,this.groupPaths=l,this.dotOpacity=u,delete this.pivotGroupDots,i},_getLinesPath:function(t){return tui.util.map(t,function(t){return t[0].left-=1,this._makeLinesPath(t)},this)},_getSplineLinesPath:function(t){return tui.util.map(t,this._makeSplineLinesPath,this)},_renderLines:function(t,e,i,n){return tui.util.map(e,function(e,r){var o=i[r]||"transparent";return s.renderLine(t,e.join(" "),o,n)},this)},resize:function(t){var e=t.dimension,i=t.groupPositions;this.groupPositions=i,this.groupPaths=this.splineOption?this._getSplineLinesPath(i):this._getLinesPath(i),this.paper.setSize(e.width,e.height),this.tooltipLine.attr({top:e.height}),tui.util.forEachArray(this.groupPaths,function(t,e){this.groupLines[e].attr({path:t.join(" ")}),tui.util.forEachArray(this.groupDots[e],function(t,n){this._moveDot(t.dot,i[e][n])},this)},this)},selectLegend:function(t){var e=this,i=tui.util.isNull(t);this.selectedLegendIndex=t,tui.util.forEachArray(this.groupPaths,function(n,s){var r=i||t===s?o:a;e.groupLines[s].attr({"stroke-opacity":r}),tui.util.forEachArray(this.groupDots[s],function(t){t.opacity=r,e.dotOpacity&&t.dot.attr({"fill-opacity":r})})},this)}});e.exports=u},{"./raphaelLineTypeBase":56,"./raphaelRenderUtil":60}],56:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=700,r=3,o=4,a=7,u=.3,l=Array.prototype.concat,h=tui.util.defineClass({_makeLinesPath:function(t){var e=tui.util.map(t,function(t){return["L",t.left,t.top]});return e=l.apply([],e),e[0]="M",e},_getAnchor:function(t,e,i){var n,s,r,o,a,u=(e.left-t.left)/2,l=(i.left-e.left)/2,h=Math.atan((e.left-t.left)/Math.abs(e.top-t.top)),c=Math.atan((i.left-e.left)/Math.abs(e.top-i.top));return h=t.top<e.top?Math.PI-h:h,c=i.top<e.top?Math.PI-c:c,n=Math.PI/2-(h+c)%(2*Math.PI)/2,s=u*Math.sin(n+h),r=u*Math.cos(n+h),o=l*Math.sin(n+c),a=l*Math.cos(n+c),{x1:e.left-s,y1:e.top+r,x2:e.left+o,y2:e.top+a}},_makeSplineLinesPath:function(t){var e=t[0],i=t.length,n=e,s=t[i-1],r=t.slice(1).slice(0,i-2),o=tui.util.map(r,function(e,i){var s=t[i+2],r=this._getAnchor(n,e,s);return n=e,[r.x1,r.y1,e.left,e.top,r.x2,r.y2]},this);return e.left-=1,o.push([s.left,s.top,s.left,s.top]),o.unshift(["M",e.left,e.top,"C",e.left,e.top]),o},_renderTooltipLine:function(t,e){var i=n.makeLinePath({left:10,top:e},{left:10,top:0});return n.renderLine(t,i,"transparent",1)},makeBorderStyle:function(t,e){var i;return t&&(i={stroke:t,"stroke-width":1,"stroke-opacity":e}),i},makeOutDotStyle:function(t,e){var i={"fill-opacity":t,"stroke-opacity":0,r:r};return e&&tui.util.extend(i,e),i},renderDot:function(t,e,i,n){var s=t.circle(e.left,e.top,r),o={fill:i,"fill-opacity":n,"stroke-opacity":0};return s.attr(o),{dot:s,color:i}},_renderDots:function(t,e,i,n){var s=tui.util.map(e,function(e,s){var r=i[s];return tui.util.map(e,function(e){var i=this.renderDot(t,e,r,n);return i},this)},this);return s},_getCenter:function(t,e){return{left:(t.left+e.left)/2,top:(t.top+e.top)/2}},_showDot:function(t){t.attr({"fill-opacity":1,"stroke-opacity":.3,"stroke-width":2,r:o})},_updateLineStrokeWidth:function(t,e){t.attr({"stroke-width":e})},showAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupLines?this.groupLines[i]:this.groupAreas[i].line,s=this.groupDots[i][e];this._updateLineStrokeWidth(n,3),this._showDot(s.dot)},_getPivotGroupDots:function(){return this.pivotGroupDots||(this.pivotGroupDots=tui.util.pivot(this.groupDots)),this.pivotGroupDots},_showGroupDots:function(t){var e=this._getPivotGroupDots();tui.util.forEachArray(e[t],function(t){this._showDot(t.dot)},this)},showGroupTooltipLine:function(t){var e=n.makeLinePath({left:t.position.left,top:t.position.top+t.dimension.height},{left:t.position.left,top:t.position.top});this.tooltipLine.attr({path:e,stroke:"#999","stroke-opacity":1})},showGroupAnimation:function(t){this._showGroupDots(t)},_hideDot:function(t,e){var i=this.outDotStyle;tui.util.isUndefined(e)||(i=tui.util.extend({},this.outDotStyle,{"fill-opacity":e})),t.attr(i)},hideAnimation:function(t){var e=t.groupIndex,i=t.index,n=this.groupLines?this.groupLines[i]:this.groupAreas[i].line,s=this.groupDots[i][e],r=this.dotOpacity;r&&!tui.util.isNull(this.selectedLegendIndex)&&this.selectedLegendIndex!==i&&(r=u),n&&this._updateLineStrokeWidth(n,2),s&&this._hideDot(s.dot,r)},_hideGroupDots:function(t){var e=this._getPivotGroupDots(),i=!tui.util.isNull(this.selectedLegendIndex),n=this.dotOpacity;tui.util.forEachArray(e[t],function(t,e){var s=n;s&&i&&this.selectedLegendIndex!==e&&(s=u),this._hideDot(t.dot,s)},this)},hideGroupTooltipLine:function(){this.tooltipLine.attr({"stroke-opacity":0})},hideGroupAnimation:function(t){this._hideGroupDots(t)},_moveDot:function(t,e){var i={cx:e.left,cy:e.top};this.dotOpacity&&(i=tui.util.extend({"fill-opacity":this.dotOpacity},i,this.borderStyle)),t.attr(i)},animate:function(t){var e=this,i=this.dimension.width,n=this.dimension.height;tui.chart.renderUtil.cancelAnimation(this.animation),this.animation=tui.chart.renderUtil.startAnimation(s,function(s){var r=Math.min(i*s,i);e.paper.setSize(r,n),1===s&&t()})},_makeSelectionDot:function(t){var e=t.circle(0,0,a);return e.attr({fill:"#ffffff","fill-opacity":0,"stroke-opacity":0,"stroke-width":2}),e},selectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex],i=this.groupPositions[t.index][t.groupIndex];this.selectedItem=e,this.selectionDot.attr({cx:i.left,cy:i.top,"fill-opacity":.5,"stroke-opacity":1,stroke:this.selectionColor||e.color})},unselectSeries:function(t){var e=this.groupDots[t.index][t.groupIndex];this.selectedItem===e&&this.selectionDot.attr({"fill-opacity":0,"stroke-opacity":0})}});e.exports=h},{"./raphaelRenderUtil":60}],57:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,r="gray",o=tui.util.defineClass({render:function(t,e){var i,n=e.dimension,r=e.mapModel.getMapDimension();return this.paper=i=s(t,n.width,n.height),this.sectors=this._renderMap(e),this.overColor=e.theme.overColor,i.setViewBox(0,0,r.width,r.height,!1),i},_renderMap:function(t){var e=t.colorModel;return tui.util.map(t.mapModel.getMapData(),function(t,i){var s=t.percentValue||0,o=e.getColor(s),a=n.renderArea(this.paper,t.path,o,1,r,1);return a.data("index",i),{sector:a,color:o,percentValue:t.percentValue}},this)},findSectorIndex:function(t){var e=this.paper.getElementByPoint(t.left,t.top),i=e&&!tui.util.isUndefined(e.data("index"))?e.data("index"):null,n=i&&this.sectors[i];return n&&!tui.util.isUndefined(n.percentValue)?i:null},changeColor:function(t){var e=this.sectors[t];e.sector.animate({fill:this.overColor},100)},restoreColor:function(t){var e=this.sectors[t];e.sector.animate({fill:e.color},100)},setSize:function(t){this.paper.setSize(t.width,t.height)}});e.exports=o},{"./raphaelRenderUtil":60}],58:[function(t,e,i){"use strict";var n=window.Raphael,s=10,r=tui.util.defineClass({render:function(t,e,i,s){var r=n(t,e.width,e.height);return this._renderGradientBar(r,e,i,s),this.wedge=this._renderWedge(r),r},_renderGradientBar:function(t,e,i,n){var r,o=e.width-s,a=e.height,u=0;n?(a-=s,u=s/2,r=360,this._makeWedghPath=this._makeHorizontalWedgePath):(r=270,this._makeWedghPath=this._makeVerticalWedgePath),t.rect(u,0,o,a).attr({fill:r+"-"+i.start+"-"+i.end,stroke:"none"})},_renderWedge:function(t){var e=t.path(this.verticalBasePath).attr({fill:"gray",stroke:"none",opacity:0});return e},verticalBasePath:["M",16,6,"L",24,3,"L",24,9],_makeVerticalWedgePath:function(t){var e=this.verticalBasePath;return e[2]=t,e[5]=t-3,e[8]=t+3,e},horizontalBasePath:["M",5,16,"L",8,24,"L",2,24],_makeHorizontalWedgePath:function(t){var e=this.horizontalBasePath;return t+=s/2,e[1]=t,e[4]=t+3,e[7]=t-3,e},showWedge:function(t){var e=this._makeWedghPath(t);this.wedge.attr({path:e,opacity:1})},hideWedge:function(){this.wedge.attr({opacity:0})}});e.exports=r},{}],59:[function(t,e,i){"use strict";var n=t("./raphaelRenderUtil"),s=window.Raphael,r=180,o=Math.PI/r,a=500,u=700,l=1,h=.3,c=tui.util.defineClass({render:function(t,e,i){var n,r=e.dimension;return this.paper=n=s(t,r.width,r.height),n.customAttributes.sector||(n.customAttributes.sector=tui.util.bind(this._makeSectorPath,this)),this.container=t,this.callbacks=i,this.selectionColor=e.theme.selectionColor,this.circleBound=e.circleBound,this._renderPie(n,e),n},clear:function(){this.paper.clear()},_makeSectorPath:function(t,e,i,n,s){var a=t+i*Math.sin(n*o),u=e-i*Math.cos(n*o),l=t+i*Math.sin(s*o),h=e-i*Math.cos(s*o),c=s-n>r?1:0,d=["M",t,e,"L",a,u,"A",i,i,0,c,1,l,h,"Z"];return{path:d}},_renderSector:function(t){var e=t.circleBound,i=t.angles;return t.paper.path().attr({sector:[e.cx,e.cy,e.r,i.startAngle,i.endAngle]}).attr(t.attrs)},_renderPie:function(t,e){var i=e.circleBound,n=e.theme.colors,s=e.chartBackground,r=[];tui.util.forEachArray(e.sectorData,function(e,o){var a=e.percentValue,u=n[o],l=this._renderSector({paper:t,circleBound:i,angles:e.angles.start,attrs:{fill:u,stroke:s,"stroke-width":1}});l.data("index",o),r.push({sector:l,color:u,angles:e.angles.end,percentValue:a})},this),this.sectors=r},renderLegendLines:function(t){var e,i=this;this.legendLines||(e=this._makeLinePaths(t),this.legendLines=tui.util.map(e,function(t){return n.renderLine(i.paper,t,"transparent",1)}))},_makeLinePaths:function(t){var e=tui.util.map(t,function(t){return[n.makeLinePath(t.start,t.middle),n.makeLinePath(t.middle,t.end),"Z"].join("")},this);return e},_expandSector:function(t){var e=this.circleBound.cx,i=this.circleBound.cy;t.animate({transform:"s1.1 1.1 "+e+" "+i},a,"elastic")},_restoreSector:function(t){t.animate({transform:""},a,"elastic")},_animateExpanding:function(t){var e=this.sectors[t].sector;this.prevMovedSector&&this._animateRestoring(this.prevMovedSector.data("index")),this._expandSector(e)},_animateRestoring:function(t){var e=this.sectors[t].sector;this._restoreSector(e)},animate:function(t){var e=0,i=this.circleBound;tui.util.forEachArray(this.sectors,function(t){var n,r,o=t.angles;0===o.startAngle&&360===o.endAngle&&(o.endAngle=359.99),n=u*t.percentValue,r=s.animation({sector:[i.cx,i.cy,i.r,o.startAngle,o.endAngle]},n),t.sector.animate(r.delay(e)),e+=n},this),t&&setTimeout(t,e)},animateLegendLines:function(){this.legendLines&&tui.util.forEachArray(this.legendLines,function(t){t.animate({stroke:"black","stroke-opacity":1})})},resize:function(t){var e=t.dimension,i=t.circleBound;this.circleBound=i,this.paper.setSize(e.width,e.height),delete this.containerBound,tui.util.forEachArray(this.sectors,function(t){var e=t.angles;t.sector.attr({sector:[i.cx,i.cy,i.r,e.startAngle,e.endAngle]})},this)},moveLegendLines:function(t){var e;this.legendLines&&(e=this._makeLinePaths(t),tui.util.forEachArray(this.legendLines,function(t,i){return t.attr({path:e[i]}),t}))},clickSeries:function(t){var e=this.paper.getElementByPoint(t.left,t.top);e&&this.prevSelectedSector&&this._unselectSeries(this.prevSelectedSector.data("index")),this.prevSelectedSector===e?(e=null,delete this.prevSelectedSector):e&&(this._selectSeries(e.data("index")),this.prevSelectedSector=e)},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.container.getBoundingClientRect()),this.containerBound},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},moveMouseOnSeries:function(t){var e,i,n,s=this.paper.getElementByPoint(t.left,t.top);s&&this.sectors[s.data("index")]?(e=this._getContainerBound(),n=this.prevMovedSector!==s,i=[{},0,s.data("index"),{left:t.left-e.left,top:t.top-e.top}],n&&this._animateExpanding(s.data("index")),this._isChangedPosition(this.prevPosition,t)&&(this.callbacks.funcShowTooltip.apply(null,i),this.prevMovedSector=s)):this.prevMovedSector&&(this._animateRestoring(this.prevMovedSector.data("index")),this.callbacks.funcHideTooltip(),this.prevMovedSector=null),this.prevPosition=t},_selectSeries:function(t){var e=this.sectors[t],i=s.color(e.color),r=this.selectionColor||n.makeChangedLuminanceColor(i.hex,.2);e.sector.attr({fill:r})},_unselectSeries:function(t){var e=this.sectors[t];e.sector.attr({fill:e.color})},selectLegend:function(t){var e=tui.util.isNull(t);tui.util.forEachArray(this.sectors,function(i,n){var s;s=e||t===n?l:h,i.sector.attr({"fill-opacity":s})},this)}});e.exports=c},{"./raphaelRenderUtil":60}],60:[function(t,e,i){"use strict";var n={makeLinePath:function(t,e,i){var n=[t.left,t.top],s=[e.left,e.top];return i=i||1,tui.util.forEachArray(n,function(t,e){t===s[e]&&(n[e]=s[e]=Math.round(t)-i%2/2)}),["M"].concat(n).concat("L").concat(s)},renderLine:function(t,e,i,n){var s=t.path([e]),r={stroke:i,"stroke-width":n||2};return"transparent"===i&&(r.stroke="#fff",r["stroke-opacity"]=0),s.attr(r),s},renderArea:function(t,e,i,n,s,r){var o=t.path(e),a={fill:i,opacity:n,stroke:s,"stroke-opacity":r||0};return o.attr(a),o},forEach2dArray:function(t,e){tui.util.forEachArray(t,function(t,i){tui.util.forEachArray(t,function(t,n){e(t,i,n)},this)},this)},makeChangedLuminanceColor:function(t,e){return t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0,"#"+tui.util.map(tui.util.range(3),function(i){var n=parseInt(t.substr(2*i,2),16);return n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),
("00"+n).substr(n.length)}).join("")}};e.exports=n},{}],61:[function(require,module,exports){window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},i={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},n=function(t){return i[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},s=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(i){if(null==i)return"null";if("number"==typeof i)return isFinite(i)?i.toString():"null";if("boolean"==typeof i)return i.toString();if("object"==typeof i){if("function"==typeof i.toJSON)return r(i.toJSON());if(e(i)){for(var o="[",a=0;a<i.length;a++)o+=(a?", ":"")+r(i[a]);return o+"]"}if("[object Object]"===t.call(i)){var u=[];for(var l in i)i.hasOwnProperty(l)&&u.push(r(l)+": "+r(i[l]));return"{"+u.join(", ")+"}"}}return'"'+i.toString().replace(s,n)+'"'}}()}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+n)},n);return t=i+n,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],62:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/chartFactory"),r=t("./charts/barChart"),o=t("./charts/columnChart"),a=t("./charts/lineChart"),u=t("./charts/areaChart"),l=t("./charts/comboChart"),h=t("./charts/pieChart"),c=t("./charts/mapChart");s.register(n.CHART_TYPE_BAR,r),s.register(n.CHART_TYPE_COLUMN,o),s.register(n.CHART_TYPE_LINE,a),s.register(n.CHART_TYPE_AREA,u),s.register(n.CHART_TYPE_COMBO,l),s.register(n.CHART_TYPE_PIE,h),s.register(n.CHART_TYPE_MAP,c)},{"./charts/areaChart":4,"./charts/barChart":6,"./charts/columnChart":9,"./charts/comboChart":10,"./charts/lineChart":12,"./charts/mapChart":14,"./charts/pieChart":17,"./const":19,"./factories/chartFactory":29}],63:[function(t,e,i){"use strict";var n=t("./const"),s=t("./factories/themeFactory"),r=t("./themes/defaultTheme");s.register(n.DEFAULT_THEME_NAME,r)},{"./const":19,"./factories/themeFactory":32,"./themes/defaultTheme":75}],64:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),r=t("../const"),o=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositionTopOfZeroPoint:function(){var t=this.boundsMaker.getDimension("series"),e=this.data.limit,i=this._getLimitDistanceFromZeroPoint(t.height,e),n=i.toMax;return e.min>=0&&!n&&(n=t.height),n+r.SERIES_EXPAND_SIZE},_makeStackedPositions:function(t){var e=this.boundsMaker.getDimension("series").height+r.SERIES_EXPAND_SIZE,i=this._makePositionTopOfZeroPoint(),n=[];return tui.util.map(t,function(t){return tui.util.map(t,function(t,s){var r=n[s]||i,o=e-t.top,a=r-o;return t.startTop=r,t.top=a,n[s]=a,t})})},_makeNormalPositions:function(t){var e=this._makePositionTopOfZeroPoint();return tui.util.map(t,function(t){return tui.util.map(t,function(t){return t.startTop=e,t})})},_makePositions:function(){var t=this._makeBasicPositions();return t=this.options.stacked?this._makeStackedPositions(t):this._makeNormalPositions(t)},_makeSeriesData:function(){var t=this.boundsMaker.getDimension("series"),e=this._getLimitDistanceFromZeroPoint(t.height,this.data.limit).toMax;return{groupPositions:this._makePositions(),zeroTop:e+r.SERIES_EXPAND_SIZE}}});s.mixin(o),e.exports=o},{"../const":19,"./lineTypeSeriesBase":69,"./series":72}],65:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),r=t("../const"),o=t("../helpers/predicate"),a=t("../helpers/renderUtil"),u=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeBarChartBound:function(t){return{start:tui.util.extend({left:t.startLeft,width:0},t.baseBound),end:tui.util.extend({left:t.endLeft,width:t.endWidth},t.baseBound)}},_makeNormalBarChartBound:function(t,e,i,n){var s,o,a,u;return s=t.distance.toMin+r.SERIES_EXPAND_SIZE,o=Math.abs(e*t.dimension.width),u={top:i+t.step*n+r.SERIES_EXPAND_SIZE,height:t.barSize},a=this._makeBarChartBound({baseBound:u,startLeft:s,endLeft:s+(0>e?-o:0),endWidth:o})},_makeNormalBarChartBounds:function(t){var e=this._makeBaseInfoForNormalChartBounds(t,"width","height"),i=this._makeNormalBounds(e,tui.util.bind(this._makeNormalBarChartBound,this));return i},_makeStackedBarChartBounds:function(t){var e=this,i=this._makeBaseInfoForStackedChartBounds(t,"width");return this._makeStackedBounds(t,i,function(t,n,s){return e._makeBarChartBound({baseBound:t,startLeft:i.distance.toMin+r.SERIES_EXPAND_SIZE,endLeft:i.distance.toMin+s,endWidth:n})})},_makeBounds:function(t){var e;return e=o.isValidStackedOption(this.options.stacked)?this._makeStackedBarChartBounds(t):this._makeNormalBarChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=a.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.left,s=i.top+(i.height-t.labelHeight+r.TEXT_PADDING)/2;return t.value>=0?n+=i.width+r.SERIES_LABEL_PADDING:n-=e+r.SERIES_LABEL_PADDING,{left:n,top:s}},_calculateSumLabelTopPosition:function(t,e){return t.top+(t.height-e+r.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,o="";return e&&(n=u.sumPlusValues(t),s=a.formatValue(n,this.dataProcessor.getFormatFunctions()),o=this._makeSeriesLabelHtml({left:e.left+e.width+r.SERIES_LABEL_PADDING,top:this._calculateSumLabelTopPosition(e,i)},s,-1,-1)),o},_makeMinusSumLabelHtml:function(t,e,i){var n,s,o,l="";return e&&(n=u.sumMinusValues(t),this.options.diverging&&(n=Math.abs(n)),s=a.formatValue(n,this.dataProcessor.getFormatFunctions()),o=a.getRenderedLabelWidth(s,this.theme.label),l=this._makeSeriesLabelHtml({left:e.left-o-r.SERIES_LABEL_PADDING,top:this._calculateSumLabelTopPosition(e,i)},s,-1,-1)),l}});s.mixin(l),e.exports=l},{"../const":19,"../helpers/calculator":35,"../helpers/predicate":41,"../helpers/renderUtil":42,"./barTypeSeriesBase":66,"./series":72}],66:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeSeriesData:function(){return this.groupBounds=this._makeBounds(this.boundsMaker.getDimension("series")),{groupBounds:this.groupBounds,groupValues:this._getPercentValues()}},_makeBarGutter:function(t,e){var i,n=t/(e+1)/2;return i=2>=n?0:6>=n?2:4},_makeBarSize:function(t,e,i){return(t-e*(i-1))/(i+1)},_makeOptionSize:function(t,e){var i=0;return e&&(i=tui.util.min([t,e])),i},_makeAdditionPadding:function(t,e,i){var n=0;return e&&t>e&&(n=(t-e)*i/2),t/2+n},_makeBaseInfoForNormalChartBounds:function(t,e,i){var n=this._getPercentValues(),s=t[i]/n.length,r=n[0]&&n[0].length||0,o=this._makeBarGutter(s,r),a=this._makeBarSize(s,o,r),u=this._makeOptionSize(a,this.options.barWidth),l=this._makeAdditionPadding(a,u,r),h=this._getLimitDistanceFromZeroPoint(t[e],this.data.limit);return a=u||a,{dimension:t,groupSize:s,barSize:a,additionPadding:l,step:a+o,distance:h,isMinus:this.data.limit.min<0&&this.data.limit.max<=0}},_makeNormalBounds:function(t,e){return tui.util.map(this._getPercentValues(),function(i,n){var s=t.groupSize*n+t.additionPadding;return tui.util.map(i,function(i,n){return e(t,i,s,n)},this)},this)},_makeBaseInfoForStackedChartBounds:function(t,e){var i,s,r,o,a,u,l,h=this._getLimitDistanceFromZeroPoint(t[e],this.data.limit),c={};return"height"===e?(a="width",u="left",l=-n.SERIES_EXPAND_SIZE):(a="height",u="top",l=n.SERIES_EXPAND_SIZE),i=t[a]/this._getPercentValues().length,s=i/2,r=this._makeOptionSize(s,this.options.barWidth),o=this._makeAdditionPadding(s,r,1),c[a]=r||s,{groupSize:i,baseBound:c,additionPadding:o+n.SERIES_EXPAND_SIZE,dimensionSize:t[e],positionType:u,baseEndPosition:l,distance:h}},_makeStackedBounds:function(t,e,i){var n=tui.util.map(this._getPercentValues(),function(t,n){var s=e.groupSize*n+e.additionPadding,r=e.baseEndPosition,o=e.baseEndPosition;return tui.util.map(t,function(t){var n=null,a=Math.abs(t*e.dimensionSize);return e.baseBound[e.positionType]=s,t>=0?(n=i(e.baseBound,a,r),r+=a):(o-=a,n=i(e.baseBound,a,o)),n},this)},this);return n},_renderNormalSeriesLabel:function(t){var e,i=this.seriesData.groupBounds,n=this.dataProcessor.getFirstFormattedValue(this.chartType),r=s.getRenderedLabelHeight(n,this.theme.label);e=tui.util.map(this.dataProcessor.getGroupValues(this.chartType),function(t,e){return tui.util.map(t,function(t,n){var s,o,a;return s=i[e][n].end,o=this.dataProcessor.getFormattedValue(e,n,this.chartType),a=this.makeSeriesRenderingPosition({value:t,bound:s,formattedValue:o,labelHeight:r}),this._makeSeriesLabelHtml(a,o,e,n)},this).join("")},this).join(""),t.innerHTML=e},_makeSumValues:function(t){var e=tui.util.sum(t);return s.formatValue(e,this.dataProcessor.getFormatFunctions())},_makeStackedLabelPosition:function(t,e,i){var r=s.getRenderedLabelWidth(e,this.theme.label),o=t.left+(t.width-r+n.TEXT_PADDING)/2,a=t.top+(t.height-i+n.TEXT_PADDING)/2;return{left:o,top:a}},_makeStackedLabelsHtml:function(t){var e,i,n,s=t.values,r=t.labelHeight;return e=tui.util.map(s,function(e,s){var r,o,a,u=t.bounds[s],l="";return u&&e&&(r=u.end,o=this.dataProcessor.getFormattedValue(t.groupIndex,s,this.chartType),a=this._makeStackedLabelPosition(r,o,t.labelHeight),l=this._makeSeriesLabelHtml(a,o,t.groupIndex,s)),e>0?i=r:0>e&&(n=r),l},this),"normal"===this.options.stacked&&(e.push(this._makePlusSumLabelHtml(s,i,r)),e.push(this._makeMinusSumLabelHtml(s,n,r))),e.join("")},_renderStackedSeriesLabel:function(t){var e,i=this.seriesData.groupBounds,n=this.dataProcessor.getGroupValues(this.chartType),r=this.dataProcessor.getFirstFormattedValue(this.chartType),o=s.getRenderedLabelHeight(r,this.theme.label);e=tui.util.map(n,function(t,e){var n=this._makeStackedLabelsHtml({groupIndex:e,values:t,bounds:i[e],labelHeight:o});return n},this).join(""),t.innerHTML=e},_renderSeriesLabel:function(t){this.options.stacked?this._renderStackedSeriesLabel(t):this._renderNormalSeriesLabel(t)}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":19,"../helpers/renderUtil":42}],67:[function(t,e,i){"use strict";var n=t("./series"),s=t("./barTypeSeriesBase"),r=t("../const"),o=t("../helpers/predicate"),a=t("../helpers/renderUtil"),u=t("../helpers/calculator"),l=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makeStartEndTops:function(t,e,i){var n;return 0>i?n=t:(n=t,t-=e),{startTop:n,endTop:t}},_makeColumnChartBound:function(t){return{start:tui.util.extend({top:t.startTop,height:0},t.baseBound),end:tui.util.extend({top:t.endTop,height:t.endHeight},t.baseBound)}},_makeNormalColumnChartBound:function(t,e,i,n){var s,o,a,u;return s=Math.abs(e*t.dimension.height),o=(t.isMinus?0:t.distance.toMax||t.dimension.height)+r.SERIES_EXPAND_SIZE,a=this._makeStartEndTops(o,s,e),u=this._makeColumnChartBound(tui.util.extend({baseBound:{left:i+t.step*n+r.SERIES_EXPAND_SIZE,width:t.barSize},endHeight:s},a))},_makeNormalColumnChartBounds:function(t){var e=this._makeBaseInfoForNormalChartBounds(t,"height","width"),i=this._makeNormalBounds(e,tui.util.bind(this._makeNormalColumnChartBound,this));return i},_makeStackedColumnChartBounds:function(t){var e=this,i=this._makeBaseInfoForStackedChartBounds(t,"height"),n=this._makeStackedBounds(t,i,function(t,n,s){return e._makeColumnChartBound({baseBound:t,startTop:i.distance.toMax+r.SERIES_EXPAND_SIZE,endTop:i.distance.toMax-n-s,endHeight:n})});return n},_makeBounds:function(t){var e;return e=o.isValidStackedOption(this.options.stacked)?this._makeStackedColumnChartBounds(t):this._makeNormalColumnChartBounds(t)},makeSeriesRenderingPosition:function(t){var e=a.getRenderedLabelWidth(t.formattedValue,this.theme.label),i=t.bound,n=i.top,s=i.left+(i.width-e)/2;return t.value>=0?n-=t.labelHeight+r.SERIES_LABEL_PADDING:n+=i.height+r.SERIES_LABEL_PADDING,{left:s,top:n}},_calculateSumLabelLeftPosition:function(t,e){var i=a.getRenderedLabelWidth(e,this.theme.label);return t.left+(t.width-i+r.TEXT_PADDING)/2},_makePlusSumLabelHtml:function(t,e,i){var n,s,o="";return e&&(n=u.sumPlusValues(t),s=a.formatValue(n,this.dataProcessor.getFormatFunctions()),o=this._makeSeriesLabelHtml({left:this._calculateSumLabelLeftPosition(e,s),top:e.top-i-r.SERIES_LABEL_PADDING},s,-1,-1)),o},_makeMinusSumLabelHtml:function(t,e){var i,n,s="";return e&&(i=u.sumMinusValues(t),this.options.diverging&&(i=Math.abs(i)),n=a.formatValue(i,this.dataProcessor.getFormatFunctions()),s=this._makeSeriesLabelHtml({left:this._calculateSumLabelLeftPosition(e,n),top:e.top+e.height+r.SERIES_LABEL_PADDING},n,-1,-1)),s}});s.mixin(l),e.exports=l},{"../const":19,"../helpers/calculator":35,"../helpers/predicate":41,"../helpers/renderUtil":42,"./barTypeSeriesBase":66,"./series":72}],68:[function(t,e,i){"use strict";var n=t("./series"),s=t("./lineTypeSeriesBase"),r=tui.util.defineClass(n,{init:function(){n.apply(this,arguments)},_makePositions:function(){return this._makeBasicPositions()},_makeSeriesData:function(){return{groupPositions:this._makePositions()}}});s.mixin(r),e.exports=r},{"./lineTypeSeriesBase":69,"./series":72}],69:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/renderUtil"),r=tui.util.defineClass({_makeBasicPositions:function(){var t,e=this.boundsMaker.getDimension("series"),i=this._getPercentValues(),s=e.width,r=e.height,o=i[0].length,a=n.SERIES_EXPAND_SIZE;return this.data.aligned?t=s/(o-1):(t=s/o,a+=t/2),tui.util.map(i,function(e){return tui.util.map(e,function(e,i){return{left:a+t*i,top:r-e*r+n.SERIES_EXPAND_SIZE}})})},_makeLabelPositionTop:function(t,e,i){var s;return s=this.options.stacked&&t.startTop?(t.startTop+t.top-i)/2+1:0>e&&!tui.util.isUndefined(t.startTop)?t.top+n.SERIES_LABEL_PADDING:t.top-i-n.SERIES_LABEL_PADDING},_renderSeriesLabel:function(t){var e,i,n,r,o;n=this.seriesData.groupPositions,e=tui.util.pivot(this.dataProcessor.getFormattedGroupValues(this.chartType)),i=this.dataProcessor.getFirstFormattedValue(this.chartType),r=s.getRenderedLabelHeight(i,this.theme.label),o=tui.util.map(e,function(t,e){return tui.util.map(t,function(t,i){var o,a=n[e][i],u="";return a.top!==a.startTop&&(o=s.getRenderedLabelWidth(t,this.theme.label),u=this._makeSeriesLabelHtml({left:a.left-o/2,top:this._makeLabelPositionTop(a,t,r)},t,i,e)),u},this).join("")},this).join(""),t.innerHTML=o},_isChanged:function(t,e){var i=this.prevIndexes;return this.prevIndexes={groupIndex:t,index:e},!i||i.groupIndex!==t||i.index!==e},onShowGroupTooltipLine:function(t){this.graphRenderer.showGroupTooltipLine&&this.graphRenderer.showGroupTooltipLine(t)},onHideGroupTooltipLine:function(){this.graphRenderer.hideGroupTooltipLine&&this.graphRenderer.hideGroupTooltipLine()}});r.mixin=function(t){tui.util.extend(t.prototype,r.prototype)},e.exports=r},{"../const":19,"../helpers/renderUtil":42}],70:[function(t,e,i){"use strict";var n=t("./series"),s=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=tui.util.defineClass(n,{init:function(t){this.basePosition={left:0,top:0},this.zoomMagn=1,this.mapRatio=1,this.graphDimension={},this.limitPosition={},this.mapModel=null,this.prevPosition=null,this.prevMovedIndex=null,this.isDrag=!1,n.call(this,t)},_setMapRatio:function(){var t=this.boundsMaker.getDimension("series"),e=this.mapModel.getMapDimension(),i=t.width/e.width,n=t.height/e.height;this.mapRatio=Math.min(i,n)},_setGraphDimension:function(){var t=this.boundsMaker.getDimension("series");this.graphDimension={width:t.width*this.zoomMagn,height:t.height*this.zoomMagn}},render:function(t){var e;return this.mapModel=t.mapModel,this._setMapRatio(),e=n.prototype.render.call(this,t)},_setLimitPositionToMoveMap:function(){var t=this.boundsMaker.getDimension("series"),e=this.graphDimension;this.limitPosition={left:t.width-e.width,top:t.height-e.height}},_renderGraph:function(){this.graphContainer||(this.graphContainer=s.create("DIV","tui-chart-series-graph-area"),this.seriesContainer.appendChild(this.graphContainer)),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this._setLimitPositionToMoveMap(),this.graphRenderer.render(this.graphContainer,{colorModel:this.data.colorModel,mapModel:this.mapModel,dimension:this.graphDimension,theme:this.theme})},_renderSeriesLabel:function(t){var e=tui.util.map(this.mapModel.getLabelData(this.zoomMagn*this.mapRatio),function(t,e){var i=t.name||t.code,n=t.labelPosition.left-r.getRenderedLabelWidth(i,this.theme.label)/2,s=t.labelPosition.top-r.getRenderedLabelHeight(i,this.theme.label)/2;return this._makeSeriesLabelHtml({left:n,top:s},t.name,0,e)},this).join("");t.innerHTML=e},_renderSeriesArea:function(t,e,i){n.prototype._renderSeriesArea.call(this,t,e,i),this.graphContainer.appendChild(this.seriesLabelContainer)},_adjustMapPosition:function(t){return{left:Math.max(Math.min(t.left,0),this.limitPosition.left),top:Math.max(Math.min(t.top,0),this.limitPosition.top)}},_updateBasePositionForZoom:function(t,e,i){var n=this.basePosition,s=n.left-e.left/2,r=n.top-e.top/2,o={left:s*i+this.limitPosition.left/2,top:r*i+this.limitPosition.top/2};this.basePosition=this._adjustMapPosition(o)},_zoom:function(t){var e=this.graphDimension,i=this.limitPosition;this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._setLimitPositionToMoveMap(),this._updateBasePositionForZoom(e,i,t),r.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},_updatePositionsToResize:function(t){var e=this.mapRatio/t;this.basePosition.left*=e,this.basePosition.top*=e,this.limitPosition.left*=e,this.limitPosition.top*=e},_resizeGraph:function(){var t=this.mapRatio;this._setMapRatio(),this._setGraphDimension(),r.renderDimension(this.graphContainer,this.graphDimension),this.graphRenderer.setSize(this.graphDimension),this._updatePositionsForResizing(t),r.renderPosition(this.graphContainer,this.basePosition),this._renderSeriesLabel(this.seriesLabelContainer)},onClickSeries:function(){},_isChangedPosition:function(t,e){return!t||t.left!==e.left||t.top!==e.top},_showWedge:function(t){var e=this.mapModel.getDatum(t);tui.util.isUndefined(e.percentValue)||this.fire("showWedge",e.percentValue)},_showTooltip:function(t,e){this.fire("showTooltip",{chartType:this.chartType,indexes:{index:t},mousePosition:e})},_getContainerBound:function(){return this.containerBound||(this.containerBound=this.seriesContainer.getBoundingClientRect()),this.containerBound},onMoveSeries:function(t){var e,i=this._executeGraphRenderer(t,"findSectorIndex");tui.util.isNull(i)?tui.util.isNull(this.prevMovedIndex)||(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip"),this.prevMovedIndex=null):(this.prevMovedIndex!==i&&(this.prevMovedIndex&&(this.graphRenderer.restoreColor(this.prevMovedIndex),this.fire("hideWedge"),this.fire("hideTooltip")),this.graphRenderer.changeColor(i)),this._isChangedPosition(this.prevPosition,t)&&(e=this._getContainerBound(),this._showTooltip(i,{left:t.left-e.left,top:t.top-e.top}),this.prevMovedIndex=i),this._showWedge(i)),this.prevPosition=t},onDragStartSeries:function(t){this.startPosition={left:t.left-this.basePosition.left,top:t.top-this.basePosition.top}},onDragSeries:function(t){var e=this._adjustMapPosition({left:t.left-this.startPosition.left,top:t.top-this.startPosition.top});r.renderPosition(this.graphContainer,e),this.basePosition=e,this.isDrag||(this.isDrag=!0,this.fire("hideTooltip"))},onDragEndSeries:function(){this.isDrag=!1},onZoom:function(t){var e=t/this.zoomMagn;this.zoomMagn=t,this._zoom(e),this.userEvent.fire("zoom",t)},animateComponent:function(){this.animateShowingAboutSeriesLabelArea()}});tui.util.CustomEvents.mixin(o),e.exports=o},{"../helpers/domHandler":38,"../helpers/renderUtil":42,"./series":72}],71:[function(t,e,i){"use strict";var n=t("./series"),s=t("../const"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),a=tui.util.defineClass(n,{init:function(t){this.legendAlign=t.legendAlign,this.chartBackground=t.chartBackground,n.call(this,t)},_makeSectorData:function(t,e){var i,n=e.cx,r=e.cy,o=e.r,a=0,u=10;return i=tui.util.map(t,function(t){var e=s.ANGLE_360*t,i=a+e,l=a+e/2,h={start:{startAngle:a,endAngle:a},end:{startAngle:a,endAngle:i}},c={cx:n,cy:r,angle:l};return a=i,{percentValue:t,angles:h,centerPosition:this._getArcPosition(tui.util.extend({r:o/2+u},c)),outerPosition:{start:this._getArcPosition(tui.util.extend({r:o},c)),middle:this._getArcPosition(tui.util.extend({r:o+u},c))}}},this)},_makeSeriesData:function(){var t=this._makeCircleBound(this.boundsMaker.getDimension("series"),{showLabel:this.options.showLabel,legendAlign:this.legendAlign}),e=this._makeSectorData(this._getPercentValues()[0],t);return{chartBackground:this.chartBackground,circleBound:t,sectorData:e}},_makeCircleBound:function(t,e){var i=t.width,n=t.height,o=r.isOuterLegendAlign(e.legendAlign)&&e.showLabel,a=o?s.PIE_GRAPH_SMALL_RATE:s.PIE_GRAPH_DEFAULT_RATE,u=tui.util.multiplication(tui.util.min([i,n]),a);return{cx:tui.util.division(i,2),cy:tui.util.division(n,2),r:tui.util.division(u,2)}},_getArcPosition:function(t){return{left:t.cx+t.r*Math.sin(t.angle*s.RAD),top:t.cy-t.r*Math.cos(t.angle*s.RAD)}},_renderGraph:function(t,e){var i=tui.util.bind(this.showTooltip,this,{allowNegativeTooltip:!!this.allowNegativeTooltip,chartType:this.chartType}),n={funcShowTooltip:i,funcHideTooltip:tui.util.bind(this.hideTooltip,this),funcSelectSeries:tui.util.bind(this.selectSeries,this)},s=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,s,n)},resize:function(){n.prototype.resize.apply(this,arguments),this._moveLegendLines()},showTooltip:function(t,e,i,n,s){this.fire("showTooltip",tui.util.extend({indexes:{groupIndex:i,index:n},mousePosition:s},t))},hideTooltip:function(){this.fire("hideTooltip")},_makeSeriesDataBySelection:function(t){return{indexes:{index:t,groupIndex:t}}},selectSeries:function(t){var e=this._makeSeriesDataBySelection(t);this.selectedIndex===t?(this.onUnselectSeries(e),delete this.selectedIndex):(tui.util.isUndefined(this.selectedIndex)||this.onUnselectSeries(this._makeSeriesDataBySelection(this.selectedIndex)),this.onSelectSeries(e),this.selectedIndex=t)},_getSeriesLabel:function(t){var e="";return this.legendAlign&&(e='<span class="tui-chart-series-legend">'+t.legend+"</span>"),this.options.showLabel&&(e+=(e?t.separator:"")+t.label),e},_renderLegendLabel:function(t,e){var i,n=t.positions;i=tui.util.map(this.dataProcessor.getLegendLabels(),function(e,i){var s,r,o="";return n[i]&&(s=this._getSeriesLabel({legend:e,label:this.dataProcessor.getFormattedValue(0,i,this.chartType),separator:t.separator}),r=t.funcMoveToPosition(n[i],s),o=this._makeSeriesLabelHtml(r,s,0,i)),o},this),e.innerHTML=i.join("")},_moveToCenterPosition:function(t,e){var i=t.left-o.getRenderedLabelWidth(e,this.theme.label)/2,n=t.top-o.getRenderedLabelHeight(e,this.theme.label)/2;return{left:i,top:n}},_pickPositionsFromSectorData:function(t){return tui.util.map(this.seriesData.sectorData,function(e){return e.percentValue?e[t]:null})},_renderCenterLegend:function(t){this._renderLegendLabel({positions:this._pickPositionsFromSectorData("centerPosition"),funcMoveToPosition:tui.util.bind(this._moveToCenterPosition,this),separator:"<br>"},t)},_addEndPosition:function(t,e){tui.util.forEachArray(e,function(e){var i;e&&(i=tui.util.extend({},e.middle),i.left<t?i.left-=s.SERIES_OUTER_LABEL_PADDING:i.left+=s.SERIES_OUTER_LABEL_PADDING,e.end=i)})},_moveToOuterPosition:function(t,e,i){var n=e.end,r=n.left,a=n.top-o.getRenderedLabelHeight(i,this.theme.label)/2;return t>r?r-=o.getRenderedLabelWidth(i,this.theme.label)+s.SERIES_LABEL_PADDING:r+=s.SERIES_LABEL_PADDING,{left:r,top:a}},_renderOuterLegend:function(t){var e=this.boundsMaker.getDimension("chart").width/2,i=this._pickPositionsFromSectorData("outerPosition"),n=tui.util.filter(i,function(t){return t});this._addEndPosition(e,n),this._renderLegendLabel({positions:i,funcMoveToPosition:tui.util.bind(this._moveToOuterPosition,this,e),separator:":&nbsp;"},t),this.graphRenderer.renderLegendLines(n)},_renderSeriesLabel:function(t){var e=this.legendAlign;r.isOuterLegendAlign(e)?this._renderOuterLegend(t):this._renderCenterLegend(t)},animateShowingAboutSeriesLabelArea:function(){this.graphRenderer.animateLegendLines(),n.prototype.animateShowingAboutSeriesLabelArea.call(this)},_moveLegendLines:function(){var t=this.boundsMaker.getDimension("chart").width/2,e=this._pickPositionsFromSectorData("outerPosition"),i=tui.util.filter(e,function(t){return t});this._addEndPosition(t,i),this.graphRenderer.moveLegendLines(i)},onClickSeries:function(t){this._executeGraphRenderer(t,"clickSeries")},onMoveSeries:function(t){this._executeGraphRenderer(t,"moveMouseOnSeries")}});tui.util.CustomEvents.mixin(a),e.exports=a},{"../const":19,"../helpers/predicate":41,"../helpers/renderUtil":42,"./series":72}],72:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../const"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),a=t("../factories/pluginFactory"),u=tui.util.defineClass({init:function(t){var e=t.libType||s.DEFAULT_PLUGIN;this.chartType=t.chartType,this.componentType=t.componentType,this.dataProcessor=t.dataProcessor,this.boundsMaker=t.boundsMaker,this.userEvent=t.userEvent,this.options=t.options||{},this.orgTheme=this.theme=t.theme,this.hasAxes=!!t.hasAxes,this.graphRenderer=a.get(e,t.chartType),this.className="tui-chart-series-area",this.seriesContainer=null,this.seriesLabelContainer=null,this.seriesData=[],this.selectedLegendIndex=null},_makeSeriesData:function(){},getSeriesData:function(){return this.seriesData},_renderSeriesLabel:function(){},_getPercentValues:function(){return this.dataProcessor.getPercentValues(this.chartType)},_renderSeriesLabelArea:function(t){return t||(t=r.create("div","tui-chart-series-label-area")),this._renderSeriesLabel(t),t},_renderSeriesArea:function(t,e,i){var n,s,a,u=this.boundsMaker.getBound("series");this.data=e,n=this.hasAxes?o.expandBound(u):u,this.seriesData=s=this._makeSeriesData(),o.renderDimension(t,n.dimension),this._renderPosition(t,n.position),i&&i(n.dimension,s),a=this._renderSeriesLabelArea(this.seriesLabelContainer),this.seriesLabelContainer||(this.seriesLabelContainer=a,r.append(t,a))},_makeParamsForGraphRendering:function(t,e){return tui.util.extend({dimension:t,chartType:this.chartType,theme:this.theme,options:this.options},e)},_renderGraph:function(t,e){var i=this._makeParamsForGraphRendering(t,e);this.graphRenderer.render(this.seriesContainer,i)},render:function(t){var e=r.create("DIV",this.className);return this.seriesContainer=e,this._renderSeriesArea(e,t,tui.util.bind(this._renderGraph,this)),e},_updateTheme:function(t,e){var i;return e.length?(i=JSON.parse(JSON.stringify(t)),i.colors=tui.util.filter(i.colors,function(t,i){return e[i]}),i):t},rerender:function(t){var e=this.dataProcessor.getGroupValues(this.chartType),i=this;this.graphRenderer.clear&&this.graphRenderer.clear(),this.seriesContainer.innerHTML="",this.seriesLabelContainer=null,this.selectedLegendIndex=null,this.seriesData=[],e&&e.length&&(this.theme=this._updateTheme(this.orgTheme,t.checkedLegends),this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(i._renderGraph,this)),this.labelShower&&clearInterval(this.labelShower.timerId),this.animateComponent())},_resizeGraph:function(t,e){this.graphRenderer.resize(tui.util.extend({dimension:t},e))},resize:function(t){this._renderSeriesArea(this.seriesContainer,t,tui.util.bind(this._resizeGraph,this))},_renderPosition:function(t,e){var i=o.isOldBrowser()?s.HIDDEN_WIDTH:0;o.renderPosition(t,{top:e.top-2*i,left:e.left-i})},_getLimitDistanceFromZeroPoint:function(t,e){var i=e.min,n=e.max,s=n-i,r=0,o=0;return 0>=i&&n>=0&&(r=(s+i)/s*t,o=(s-n)/s*t),{toMax:r,toMin:o}},_findLabelElement:function(t){var e=null;return e=r.hasClass(t,s.CLASS_NAME_SERIES_LABEL)?t:r.findParentByClass(t,s.CLASS_NAME_SERIES_LABEL)},onShowAnimation:function(t){this.graphRenderer.showAnimation&&this.graphRenderer.showAnimation(t)},onHideAnimation:function(t){this.graphRenderer.hideAnimation&&this.graphRenderer.hideAnimation(t)},onShowGroupAnimation:function(t){this.graphRenderer.showGroupAnimation&&this.graphRenderer.showGroupAnimation(t)},onHideGroupAnimation:function(t){this.graphRenderer.hideGroupAnimation&&this.graphRenderer.hideGroupAnimation(t)},animateComponent:function(){this.graphRenderer.animate&&this.graphRenderer.animate(tui.util.bind(this.animateShowingAboutSeriesLabelArea,this))},_makeOpacityCssText:function(){var t;return t=o.isOldBrowser()?function(t){return";filter: alpha(opacity="+100*t+")"}:function(t){return";opacity: "+t}}(),_makeSeriesLabelHtml:function(t,e,i,s){var r=tui.util.extend(t,this.theme.label);return tui.util.isNull(this.selectedLegendIndex)||this.selectedLegendIndex===s?r.opacity="":r.opacity=this._makeOpacityCssText(.3),n.tplSeriesLabel({cssText:n.tplCssText(r),value:e,groupIndex:i,index:s})},animateShowingAboutSeriesLabelArea:function(){var t=this;(this.options.showLabel||this.legendAlign)&&this.seriesLabelContainer&&(r.addClass(this.seriesLabelContainer,"show"),o.isIE7()?this.seriesLabelContainer.style.filter="":(this.labelShower=new tui.component.Effects.Fade({element:this.seriesLabelContainer,duration:300}),this.labelShower.action({start:0,end:1,complete:function(){clearInterval(t.labelShower.timerId),delete t.labelShower}})))},_makeExportationSeriesData:function(t){var e=t.indexes.index,i=this.dataProcessor.getLegendData(e);return{chartType:i.chartType,legend:i.label,legendIndex:e,index:t.indexes.groupIndex}},_executeGraphRenderer:function(t,e){var i;return this.fire("hideTooltipContainer"),this.options.showLabel&&r.removeClass(this.seriesLabelContainer,"show"),i=this.graphRenderer[e](t),this.options.showLabel&&r.addClass(this.seriesLabelContainer,"show"),this.fire("showTooltipContainer"),i},onSelectSeries:function(t){this.userEvent.fire("selectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.selectSeries(t.indexes)},onUnselectSeries:function(t){this.userEvent.fire("unselectSeries",this._makeExportationSeriesData(t)),this.options.hasSelection&&this.graphRenderer.unselectSeries(t.indexes)},onSelectLegend:function(t,e){var i=this.dataProcessor.getGroupValues(this.chartType);this.chartType===t||tui.util.isNull(e)||(e=-1),this.selectedLegendIndex=e,i&&i.length&&(this._renderSeriesArea(this.seriesContainer,this.data),this.graphRenderer.selectLegend(e))},showLabel:function(){this.options.showLabel=!0,r.addClass(this.seriesLabelContainer,"show opacity")},hideLabel:function(){this.options.showLabel=!1,r.removeClass(this.seriesLabelContainer,"show")}});e.exports=u},{"../const":19,"../factories/pluginFactory":31,"../helpers/domHandler":38,"../helpers/renderUtil":42,"./seriesTemplate":73}],73:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_SERIES_LABEL:'<div class="tui-chart-series-label" style="{{ cssText }}" data-group-index="{{ groupIndex }}" data-index="{{ index }}">{{ value }}</div>',TEXT_CSS_TEXT:"left:{{ left }}px;top:{{ top }}px;font-family:{{ fontFamily }};font-size:{{ fontSize }}px{{opacity}}",HTML_ZOOM_BUTTONS:'<a class="tui-chart-zoom-btn" href="#" data-magn="2"><div class="horizontal-line"></div><div class="vertical-line"></div></a><a class="tui-chart-zoom-btn" href="#" data-magn="0.5"><div class="horizontal-line"></div></a>'};e.exports={tplSeriesLabel:n.template(s.HTML_SERIES_LABEL),tplCssText:n.template(s.TEXT_CSS_TEXT),ZOOM_BUTTONS:s.HTML_ZOOM_BUTTONS}},{"../helpers/templateMaker":43}],74:[function(t,e,i){"use strict";var n=t("./seriesTemplate"),s=t("../helpers/domHandler"),r=t("../helpers/renderUtil"),o=t("../helpers/eventListener"),a=tui.util.defineClass({init:function(t){this.className="tui-chart-zoom-area",
this.boundsMaker=t.boundsMaker,this.magn=1},render:function(){var t=s.create("DIV",this.className);return t.innerHTML+=n.ZOOM_BUTTONS,r.renderPosition(t,this.boundsMaker.getPosition("series")),this._attachEvent(t),t},_findBtnElement:function(t){var e="tui-chart-zoom-btn",i=t;return s.hasClass(t,e)||(i=s.findParentByClass(t,e)),i},_onClick:function(t){var e,i=t.target||t.srcElement,n=this._findBtnElement(i),s=0;return n&&(e=parseFloat(n.getAttribute("data-magn")),s=this.magn*e),s>=1&&(this.magn=s,this.fire("zoom",this.magn)),t.preventDefault?void t.preventDefault():!1},_attachEvent:function(t){o.bindEvent("click",t,tui.util.bind(this._onClick,this))}});tui.util.CustomEvents.mixin(a),e.exports=a},{"../helpers/domHandler":38,"../helpers/eventListener":39,"../helpers/renderUtil":42,"./seriesTemplate":73}],75:[function(t,e,i){"use strict";var n="#000000",s="#ffffff",r="",o={tickColor:n,title:{fontSize:12,fontFamily:r,color:n},label:{fontSize:12,fontFamily:r,color:n}},a={chart:{background:s,fontFamily:"Verdana"},title:{fontSize:18,fontFamily:r,color:n},yAxis:o,xAxis:o,plot:{lineColor:"#dddddd",background:"#ffffff"},series:{label:{fontSize:11,fontFamily:r,color:n},colors:["#ac4142","#d28445","#f4bf75","#90a959","#75b5aa","#6a9fb5","#aa759f","#8f5536"],borderColor:r,selectionColor:r,startColor:"#F4F4F4",endColor:"#345391",overColor:"#F0C952"},legend:{label:{fontSize:12,fontFamily:r,color:n}},tooltip:{}};e.exports=a},{}],76:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./groupTooltipPositionModel"),r=t("../const"),o=t("../helpers/domHandler"),a=t("../helpers/renderUtil"),u=t("../themes/defaultTheme"),l=t("./tooltipTemplate"),h=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){var i=l.tplGroupItem,n=l.tplGroupCssText,s=this._makeColors(this.theme),r=tui.util.map(e,function(t,e){return i(tui.util.extend({cssText:n({color:s[e]})},t))},this).join("");return l.tplGroup({category:t,items:r})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=r.TOOLTIP_DEFAULT_GROUP_ALIGN_OPTION:this.options.align=r.TOOLTIP_DEFAULT_GROUP_HORIZONTAL_ALIGN_OPTION)},render:function(){var t=n.prototype.render.call(this),e=this.boundsMaker.getDimension("chart"),i=this.boundsMaker.getBound("tooltip");return this.positionModel=new s(e,i,this.isVertical,this.options),this.orgWholeLegendData=this.dataProcessor.getWholeLegendData(),t},rerender:function(t){n.prototype.rerender.call(this,t),this.theme=this._updateLegendTheme(t.checkedLegends)},_updateLegendTheme:function(t){var e=[];return tui.util.forEachArray(this.orgWholeLegendData,function(i){var n=t[i.chartType]||t;n[i.index]&&e.push(i.theme.color)}),{colors:e}},_makeTooltipData:function(){return tui.util.map(this.dataProcessor.getWholeFormattedValues(),function(t,e){return{category:this.dataProcessor.getCategory(e),values:t}},this)},_makeColors:function(t){var e,i,n,s=0,r=this.dataProcessor.getWholeLegendData();return t.colors?t.colors:(e=u.series.colors.slice(0,r.length),tui.util.map(tui.util.pluck(r,"chartType"),function(r){var o;return n!==r&&(i=t[r]?t[r].colors:e,s=0),n=r,o=i[s],s+=1,o}))},_makeItemRenderingData:function(t){return tui.util.map(t,function(t,e){var i=this.dataProcessor.getLegendData(e);return{value:t,legend:i.label,chartType:i.chartType,suffix:this.suffix}},this)},_makeGroupTooltipHtml:function(t){var e=this.data[t],i=this._makeItemRenderingData(e.values);return this.templateFunc(e.category,i)},_getTooltipSectorElement:function(){var t;return this.groupTooltipSector||(this.groupTooltipSector=t=o.create("DIV","tui-chart-group-tooltip-sector"),o.append(this.tooltipContainer,t)),this.groupTooltipSector},_makeVerticalTooltipSectorBound:function(t,e,i){var n;return i?(n=1,t+=6):n=e.end-e.start,{dimension:{width:n,height:t},position:{left:e.start+r.SERIES_EXPAND_SIZE,top:r.SERIES_EXPAND_SIZE}}},_makeHorizontalTooltipSectorBound:function(t,e){return{dimension:{width:t,height:e.end-e.start+r.HIDDEN_WIDTH},position:{left:r.SERIES_EXPAND_SIZE-r.HIDDEN_WIDTH,top:e.start+r.SERIES_EXPAND_SIZE}}},_makeTooltipSectorBound:function(t,e,i,n){var s;return s=i?this._makeVerticalTooltipSectorBound(t,e,n):this._makeHorizontalTooltipSectorBound(t,e)},_showTooltipSector:function(t,e,i,n){var s=this._getTooltipSectorElement(),r=e.start===e.end,u=this._makeTooltipSectorBound(t,e,i,r);r?this.fire("showGroupTooltipLine",u):(a.renderDimension(s,u.dimension),a.renderPosition(s,u.position),o.addClass(s,"show")),this.fire("showGroupAnimation",n)},_hideTooltipSector:function(t){var e=this._getTooltipSectorElement();o.removeClass(e,"show"),this.fire("hideGroupAnimation",t),this.fire("hideGroupTooltipLine")},showTooltip:function(t,e,i){var n,s;tui.util.isUndefined(this.prevIndex)||this.fire("hideGroupAnimation",this.prevIndex),t.innerHTML=this._makeGroupTooltipHtml(e.index),this._fireBeforeShowTooltip(e.index,e.range),o.addClass(t,"show"),this._showTooltipSector(e.size,e.range,e.isVertical,e.index),n=this.getTooltipDimension(t),s=this.positionModel.calculatePosition(n,e.range),this.moveToPosition(t,s,i),this._fireAfterShowTooltip(e.index,e.range,{element:t,position:s}),this.prevIndex=e.index},_fireBeforeShowTooltip:function(t,e){this.userEvent.fire("beforeShowTooltip",{index:t,range:e})},_fireAfterShowTooltip:function(t,e,i){this.userEvent.fire("afterShowTooltip",tui.util.extend({index:t,range:e},i))},hideTooltip:function(t,e){delete this.prevIndex,this._hideTooltipSector(e),o.removeClass(t,"show"),t.style.cssText=""}});e.exports=h},{"../const":19,"../helpers/domHandler":38,"../helpers/renderUtil":42,"../themes/defaultTheme":75,"./groupTooltipPositionModel":77,"./tooltipBase":81,"./tooltipTemplate":82}],77:[function(t,e,i){"use strict";var n=t("../const"),s=tui.util.defineClass({init:function(t,e,i,n){this.chartDimension=t,this.areaBound=e,this.isVertical=i,this.options=n,this.positions={},this._setData(t,e,i,n)},_getHorizontalDirection:function(t){var e;return t=t||"",e=t.indexOf("left")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("center")>-1?n.TOOLTIP_DIRECTION_CENTER:n.TOOLTIP_DIRECTION_FORWARD},_makeVerticalData:function(t,e,i){var s=this._getHorizontalDirection(i);return{positionType:"left",sizeType:"width",direction:s,areaPosition:e.position.left,areaSize:e.dimension.width,chartSize:t.width,basePosition:n.SERIES_EXPAND_SIZE}},_getVerticalDirection:function(t){var e;return t=t||"",e=t.indexOf("top")>-1?n.TOOLTIP_DIRECTION_BACKWARD:t.indexOf("bottom")>-1?n.TOOLTIP_DIRECTION_FORWARD:n.TOOLTIP_DIRECTION_CENTER},_makeHorizontalData:function(t,e,i){var s=this._getVerticalDirection(i);return{positionType:"top",sizeType:"height",direction:s,areaPosition:e.position.top,areaSize:e.dimension.height,chartSize:t.height,basePosition:n.SERIES_EXPAND_SIZE}},_setData:function(t,e,i,n){var s=this._makeVerticalData(t,e,n.align),r=this._makeHorizontalData(t,e,n.align);i?(this.mainData=s,this.subData=r):(this.mainData=r,this.subData=s),this.positionOption=tui.util.extend({left:0,top:0},n.position),this.positions={}},_calculateMainPositionValue:function(t,e,i){var s=e.start===e.end,r=s?9:5,o=i.basePosition;return o+=i.direction===n.TOOLTIP_DIRECTION_FORWARD?e.end+r:i.direction===n.TOOLTIP_DIRECTION_BACKWARD?e.start-t-r:s?e.start-t/2:e.start+(e.end-e.start-t)/2},_calculateSubPositionValue:function(t,e){var i,s=e.areaSize/2;return i=e.direction===n.TOOLTIP_DIRECTION_FORWARD?s+e.basePosition:e.direction===n.TOOLTIP_DIRECTION_BACKWARD?s-t+e.basePosition:s-t/2+e.basePosition},_makePositionValueDiff:function(t,e,i){return t+i.areaPosition+e-i.chartSize},_adjustBackwardPositionValue:function(t,e,i,s){var r;return t<-s.areaPosition&&(r=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_FORWARD,basePosition:s.basePosition}),t=this._makePositionValueDiff(r,i,s)>0?-s.areaPosition:r),t},_adjustForwardPositionValue:function(t,e,i,s){var r,o=this._makePositionValueDiff(t,i,s);return o>0&&(r=this._calculateMainPositionValue(i,e,{direction:n.TOOLTIP_DIRECTION_BACKWARD,basePosition:s.basePosition}),r<-s.areaPosition?t-=o:t=r),t},_adjustMainPositionValue:function(t,e,i,s){return s.direction===n.TOOLTIP_DIRECTION_BACKWARD?t=this._adjustBackwardPositionValue(t,e,i,s):s.direction===n.TOOLTIP_DIRECTION_FORWARD?t=this._adjustForwardPositionValue(t,e,i,s):(t=tui.util.max([t,-s.areaPosition]),t=tui.util.min([t,s.chartSize-s.areaPosition-i])),t},_adjustSubPositionValue:function(t,e,i){return t=i.direction===n.TOOLTIP_DIRECTION_FORWARD?tui.util.min([t,i.chartSize-i.areaPosition-e]):tui.util.max([t,-i.areaPosition])},_makeCachingKey:function(t){return t.start+"-"+t.end},_addPositionOptionValue:function(t,e){return t+this.positionOption[e]},_makeMainPositionValue:function(t,e,i){var n;return n=this._calculateMainPositionValue(t[i.sizeType],e,i),n=this._addPositionOptionValue(n,i.positionType),n=this._adjustMainPositionValue(n,e,t[i.sizeType],i)},_makeSubPositionValue:function(t,e){var i;return i=this._calculateSubPositionValue(t[e.sizeType],e),i=this._addPositionOptionValue(i,e.positionType),i=this._adjustSubPositionValue(i,t[e.sizeType],e)},calculatePosition:function(t,e){var i=this._makeCachingKey(e),n=this.mainData,s=this.subData,r=this.positions[i];return r||(r={},r[n.positionType]=this._makeMainPositionValue(t,e,n),r[s.positionType]=this._makeSubPositionValue(t,s),this.positions[i]=r),r},updateOptions:function(t){this.options=t,this._setData(this.chartDimension,this.areaBound,this.isVertical,t)},updateBound:function(t){this.areaBound=t,this._setData(this.chartDimension,t,this.isVertical,this.options)}});e.exports=s},{"../const":19}],78:[function(t,e,i){"use strict";var n=t("../const"),s=t("./tooltipBase"),r=t("./singleTooltipMixer"),o=t("./tooltipTemplate"),a=tui.util.defineClass(s,{init:function(t){this.mapModel=null,s.call(this,t)},_makeTooltipHtml:function(t){return o.tplMapChartDefault(t)},_makeSingleTooltipHtml:function(t,e){var i=this.mapModel.getDatum(e.index);return this.templateFunc({name:i.name||i.code,value:i.formattedValue})},_makeShowTooltipParams:function(t,e){var i,n=this.mapModel.getDatum(t.index);return i=tui.util.extend({chartType:this.chartType,code:n.code,name:n.name,value:n.formattedValue,index:t.index},e)},_setDefaultTooltipPositionOption:function(){this.options.align||(this.options.align=n.TOOLTIP_DEFAULT_ALIGN_OPTION)},render:function(t){return this.mapModel=t.mapModel,s.prototype.render.call(this)}});r.mixin(a),e.exports=a},{"../const":19,"./singleTooltipMixer":79,"./tooltipBase":81,"./tooltipTemplate":82}],79:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/predicate"),r=t("../helpers/domHandler"),o=t("../helpers/renderUtil"),a={_fireShowAnimation:function(t,e){var i=o.makeCustomEventName("show",e,"animation");this.fire(i,t)},_fireHideAnimation:function(t,e){var i=o.makeCustomEventName("hide",e,"animation");this.fire(i,t)},_setIndexesCustomAttribute:function(t,e){t.setAttribute("data-groupIndex",e.groupIndex),t.setAttribute("data-index",e.index)},_getIndexesCustomAttribute:function(t){var e=t.getAttribute("data-groupIndex"),i=t.getAttribute("data-index"),n=null;return tui.util.isNull(e)||tui.util.isNull(i)||(n={groupIndex:parseInt(e,10),index:parseInt(i,10)}),n},_setShowedCustomAttribute:function(t,e){t.setAttribute("data-showed",e)},_isShowedTooltip:function(t){var e=t.getAttribute("data-showed");return"true"===e||e===!0},_calculateTooltipPositionToMousePosition:function(t){return t.bound=t.bound||{},tui.util.extend(t.bound,t.mousePosition),this._calculateTooltipPositionAboutNotBarChart(t)},_calculateTooltipPositionAboutNotBarChart:function(t){var e=t.bound,i=t.positionOption,s=t.dimension.width-(e.width||0),r=e.width?0:n.TOOLTIP_GAP,o=t.alignOption||"",a=t.dimension.height,u={};return u.left=e.left+i.left,u.top=e.top-a+i.top,o.indexOf("left")>-1?u.left-=s+r:o.indexOf("center")>-1?u.left-=s/2:u.left+=r,o.indexOf("bottom")>-1?u.top+=a+r:o.indexOf("middle")>-1?u.top+=a/2:u.top-=n.TOOLTIP_GAP,u},_calculateTooltipPositionAboutBarChart:function(t){var e=t.bound,i=t.positionOption,s=t.dimension.height-(e.height||0),r=t.alignOption||"",o=t.dimension.width,a={};return a.left=e.left+e.width+i.left,a.top=e.top+i.top,r.indexOf("left")>-1?a.left-=o:r.indexOf("center")>-1?a.left-=o/2:a.left+=n.TOOLTIP_GAP,r.indexOf("top")>-1?a.top-=s:r.indexOf("middle")>-1&&(a.top-=s/2),a},_adjustPosition:function(t,e){var i=this.boundsMaker.getDimension("chart"),n=this.boundsMaker.getPosition("tooltip");return e.left=Math.max(e.left,-n.left),e.left=Math.min(e.left,i.width-n.left-t.width),e.top=Math.max(e.top,-n.top),e.top=Math.min(e.top,i.height-n.top-t.height),e},_calculateTooltipPosition:function(t){var e,i,n,r={};return t.mousePosition?r=this._calculateTooltipPositionToMousePosition(t):(s.isBarChart(t.chartType)?(r=this._calculateTooltipPositionAboutBarChart(t),e="width",i="left",n=1):(r=this._calculateTooltipPositionAboutNotBarChart(t),e="height",i="top",n=-1),t.allowNegativeTooltip&&(r=this._moveToSymmetry(r,{bound:t.bound,indexes:t.indexes,dimension:t.dimension,chartType:t.chartType,sizeType:e,positionType:i,addPadding:n})),r=this._adjustPosition(t.dimension,r)),r},_moveToSymmetry:function(t,e){var i,n,s,r,o=e.bound,a=e.sizeType,u=e.positionType,l=this.dataProcessor.getValue(e.indexes.groupIndex,e.indexes.index,e.chartType);return 0>l&&(i=e.dimension[a]/2,n=o[u],s=o[a]/2,r=2*(n+s-i)-t[u],t[u]=r),t},_isChangedIndexes:function(t,e){return!!t&&(t.groupIndex!==e.groupIndex||t.index!==e.index)},showTooltip:function(t,e,i){var n,s,o=e.indexes,a=this._getIndexesCustomAttribute(t);this._isChangedIndexes(a,o)&&(n=t.getAttribute("data-chart-type"),this._fireHideAnimation(a,n)),t.innerHTML=this._makeSingleTooltipHtml(e.chartType,o),t.setAttribute("data-chart-type",e.chartType),this._setIndexesCustomAttribute(t,o),this._setShowedCustomAttribute(t,!0),this._fireBeforeShowTooltip(o),r.addClass(t,"show"),s=this._calculateTooltipPosition(tui.util.extend({dimension:this.getTooltipDimension(t),positionOption:tui.util.extend({left:0,top:0},this.options.position),alignOption:this.options.align||""},e)),this.moveToPosition(t,s,i),this._fireShowAnimation(o,e.chartType),this._fireAfterShowTooltip(o,{element:t,position:s})},_fireBeforeShowTooltip:function(t){var e=this._makeShowTooltipParams(t);this.userEvent.fire("beforeShowTooltip",e)},_fireAfterShowTooltip:function(t,e){var i=this._makeShowTooltipParams(t,e);this.userEvent.fire("afterShowTooltip",i)},hideTooltip:function(t){var e=this,i=this._getIndexesCustomAttribute(t),s=t.getAttribute("data-chart-type");s&&(this._setShowedCustomAttribute(t,!1),this._fireHideAnimation(i,s),this._isChangedIndexes(this.prevIndexes,i)&&delete this.prevIndexes,setTimeout(function(){e._isShowedTooltip(t)||(r.removeClass(t,"show"),t.style.cssText="",e=null,i=null)},n.HIDE_DELAY))},onShowTooltipContainer:function(){this.tooltipContainer.style.zIndex=n.TOOLTIP_ZINDEX},onHideTooltipContainer:function(){this.tooltipContainer.style.zIndex=0},mixin:function(t){tui.util.extend(t.prototype,this)}};e.exports=a},{"../const":19,"../helpers/domHandler":38,"../helpers/predicate":41,"../helpers/renderUtil":42}],80:[function(t,e,i){"use strict";var n=t("./tooltipBase"),s=t("./singleTooltipMixer"),r=t("../const"),o=t("./tooltipTemplate"),a=tui.util.defineClass(n,{init:function(t){n.call(this,t)},_makeTooltipHtml:function(t,e){return o.tplDefault(tui.util.extend({category:t||""},e))},_makeSingleTooltipHtml:function(t,e){var i=tui.util.pick(this.data,t,e.groupIndex,e.index);return this.templateFunc(i.category,{value:i.value,legend:i.legend,suffix:this.suffix})},_setDefaultTooltipPositionOption:function(){this.options.align||(this.isVertical?this.options.align=r.TOOLTIP_DEFAULT_ALIGN_OPTION:this.options.align=r.TOOLTIP_DEFAULT_HORIZONTAL_ALIGN_OPTION)},_makeShowTooltipParams:function(t,e){var i,n=t.index,s=this.dataProcessor.getLegendData(n);return i=tui.util.extend({chartType:s.chartType,legend:s.label,legendIndex:n,index:t.groupIndex},e)},_makeTooltipData:function(){var t=this.dataProcessor.getCategories(),e=this.dataProcessor.getFormattedGroupValues(),i=this.dataProcessor.getLegendLabels(),n={},s={},r={};return tui.util.isArray(e)?(n[this.chartType]=e,s[this.chartType]=i):(n=e,s=i),tui.util.forEach(n,function(e,i){r[i]=tui.util.map(e,function(e,n){return tui.util.map(e,function(e,r){return{category:t?t[n]:"",legend:s[i][r],value:e}})})}),r}});s.mixin(a),e.exports=a},{"../const":19,"./singleTooltipMixer":79,"./tooltipBase":81,"./tooltipTemplate":82}],81:[function(t,e,i){"use strict";var n=t("../const"),s=t("../helpers/domHandler"),r=t("../helpers/predicate"),o=t("../helpers/renderUtil"),a=tui.util.defineClass({init:function(t){tui.util.extend(this,t),this.className="tui-chart-tooltip-area",this.tooltipContainer=null,this.suffix=this.options.suffix?"&nbsp;"+this.options.suffix:"",this.templateFunc=this.options.template||tui.util.bind(this._makeTooltipHtml,this),this.animationTime=r.isPieChart(t.chartType)?n.TOOLTIP_PIE_ANIMATION_TIME:n.TOOLTIP_ANIMATION_TIME,this.data=[],this._setDefaultTooltipPositionOption(),this._saveOriginalPositionOptions()},_makeTooltipHtml:function(){},_setDefaultTooltipPositionOption:function(){},_saveOriginalPositionOptions:function(){this.orgPositionOptions={align:this.options.align,position:this.options.position}},_makeTooltipData:function(){},render:function(){var t=s.create("DIV",this.className);return this.data=this._makeTooltipData(),o.renderPosition(t,this.boundsMaker.getPosition("tooltip")),this.tooltipContainer=t,t},rerender:function(){this.data=this._makeTooltipData(),this.positionModel&&this.positionModel.updateBound(this.boundsMaker.getBound("tooltip"))},resize:function(){o.renderPosition(this.tooltipContainer,this.boundsMaker.getPosition("tooltip")),this.positionModel&&this.positionModel.updateBound(this.boundsMaker.getBound("tooltip"))},_getTooltipElement:function(){var t;return this.tooltipElement||(this.tooltipElement=t=s.create("DIV","tui-chart-tooltip"),s.append(this.tooltipContainer,t)),this.tooltipElement},onShow:function(t){var e,i=this._getTooltipElement();!r.isMousePositionChart(t.chartType)&&i.offsetWidth&&(e={left:i.offsetLeft,top:i.offsetTop}),this.showTooltip(i,t,e)},getTooltipDimension:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},moveToPosition:function(t,e,i){i?this._slideTooltip(t,i,e):o.renderPosition(t,e)},_slideTooltip:function(t,e,i){var n=i.top-e.top,s=i.left-e.left;o.cancelAnimation(this.slidingAnimation),this.slidingAnimation=o.startAnimation(this.animationTime,function(i){var r=s*i,o=n*i;t.style.left=e.left+r+"px",t.style.top=e.top+o+"px"})},onHide:function(t){var e=this._getTooltipElement();this.hideTooltip(e,t)},setAlign:function(t){this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},setPosition:function(t){this.options.position=tui.util.extend({},this.options.position,t),this.positionModel&&this.positionModel.updateOptions(this.options)},resetAlign:function(){var t=this.orgPositionOptions.align;this.options.align=t,this.positionModel&&this.positionModel.updateOptions(this.options)},resetPosition:function(){var t=this.orgPositionOptions.position;this.options.position=t,this.positionModel&&this.positionModel.updateOptions(this.options)}});tui.util.CustomEvents.mixin(a),e.exports=a},{"../const":19,"../helpers/domHandler":38,"../helpers/predicate":41,"../helpers/renderUtil":42}],82:[function(t,e,i){"use strict";var n=t("../helpers/templateMaker"),s={HTML_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ category }}</div><div><span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div></div>',HTML_GROUP:'<div class="tui-chart-default-tooltip tui-chart-group-tooltip"><div>{{ category }}</div>{{ items }}</div>',HTML_GROUP_ITEM:'<div><div class="tui-chart-legend-rect {{ chartType }}" style="{{ cssText }}"></div>&nbsp;<span>{{ legend }}</span>:&nbsp;<span>{{ value }}</span><span>{{ suffix }}</span></div>',GROUP_CSS_TEXT:"background-color:{{ color }}",HTML_MAP_CHART_DEFAULT_TEMPLATE:'<div class="tui-chart-default-tooltip"><div>{{ name }}: {{ value }}</div></div>'};e.exports={tplDefault:n.template(s.HTML_DEFAULT_TEMPLATE),tplGroup:n.template(s.HTML_GROUP),tplGroupItem:n.template(s.HTML_GROUP_ITEM),tplGroupCssText:n.template(s.GROUP_CSS_TEXT),tplMapChartDefault:n.template(s.HTML_MAP_CHART_DEFAULT_TEMPLATE)}},{"../helpers/templateMaker":43}]},{},[3,52]);